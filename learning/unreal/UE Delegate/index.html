<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="XqWEZ-KjvQT4IfXzxYvH-PEc--_zN6GqthY2jBsqOs4"><meta name="msvalidate.01" content="4E28E3FDD5912EBBB84869B17359650D"><meta name="baidu-site-verification" content="code-dwpSTDBLS2"><link rel="alternate" type="application/rss+xml" title="é‘«é…±" href="https://hakuya.me/rss.xml"><link rel="alternate" type="application/atom+xml" title="é‘«é…±" href="https://hakuya.me/atom.xml"><link rel="alternate" type="application/json" title="é‘«é…±" href="https://hakuya.me/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="UE,Delegate"><link rel="canonical" href="https://hakuya.me/learning/unreal/UE%20Delegate/"><title>UE Delegate - UE - å­¦ä¹  | ä¸ªäººåšå®¢ = é‘«é…± = ç¬”è®°æœ¬</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">UE Delegate</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2022-11-24 16:19:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2022-11-24T16:19:00+08:00">2022-11-24</time> </span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">æœ¬æ–‡å­—æ•°</span> <span>18k</span> <span class="text">å­—</span> </span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">é˜…è¯»æ—¶é•¿</span> <span>17 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ä¸ªäººåšå®¢</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (2).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (15).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (6).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper_4.jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (7).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (26).jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/learning/" itemprop="item" rel="index" title="åˆ†ç±»äº å­¦ä¹ "><span itemprop="name">å­¦ä¹ </span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/learning/unreal/" itemprop="item" rel="index" title="åˆ†ç±»äº UE"><span itemprop="name">UE</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://hakuya.me/learning/unreal/UE%20Delegate/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="é‘«é…±(â—'â—¡'â—)"><meta itemprop="description" content="ç¬”è®°æœ¬, æ•´å¤©æ‘¸é±¼ï¼Œå´å¦„æƒ³æ‹¯æ•‘ä¸–ç•Œçš„æŠ€æœ¯å®…"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="é‘«é…±"></span><div class="body md" itemprop="articleBody"><div class="note info"><p>æœ¬ç¯‡å†…å®¹å’Œæºç å‡å‚è€ƒ UE5ã€‚</p></div><h1 id="delegate-å§”æ‰˜"><a class="anchor" href="#delegate-å§”æ‰˜">#</a> Delegate å§”æ‰˜</h1><p>å§”æ‰˜æ˜¯ Unreal å¯¹äº C++ å‡½æ•°çš„ä¸€ç§å°è£…ã€‚åœ¨ Unreal ä¸­ï¼Œå§”æ‰˜ä¹Ÿè¢«åˆ†æˆä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p><ul><li>Delegateï¼šç®€å•å§”æ‰˜ï¼Œæ”¯æŒç»‘å®šå•ä¸ªæ‰§è¡Œå‡½æ•°ã€‚</li><li>MulticaseDelegateï¼šå¤šæ’­å§”æ‰˜ï¼Œæ”¯æŒç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ªæ‰§è¡Œå‡½æ•°ã€‚</li><li>Eventï¼šäº‹ä»¶ï¼Œå¸¦æœ‰è®¿é—®æƒé™æ§åˆ¶çš„å¤šæ’­å§”æ‰˜ï¼Œéœ€è¦è®¾ç½®å¯ä»¥è§¦å‘è¯¥å¤šæ’­å§”æ‰˜çš„å‹å…ƒç±»ã€‚</li><li>DynamicDelegateï¼šåŠ¨æ€å§”æ‰˜ï¼Œæ”¯æŒåŠ¨æ€ç»‘å®šå•ä¸ªæ‰§è¡Œå‡½æ•°ã€‚</li><li>DynamicMulticaseDelegateï¼šåŠ¨æ€å¤šæ’­å§”æ‰˜ï¼Œæ”¯æŒåŠ¨æ€ç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ªæ‰§è¡Œå‡½æ•°ã€‚</li><li>SparseDynamicDelegateï¼šç¨€ç–åŠ¨æ€å§”æ‰˜ï¼Œå¯ä»¥ç†è§£ä¸ºå¦ä¸€ç§å­˜å‚¨å½¢å¼çš„ DynamicMulticaseDelegateã€‚</li></ul><h2 id="delegate-ç®€å•å§”æ‰˜"><a class="anchor" href="#delegate-ç®€å•å§”æ‰˜">#</a> Delegate ç®€å•å§”æ‰˜</h2><p>Delegate é€šè¿‡å®å®šä¹‰è¿›è¡Œå£°æ˜ï¼š <code>DECLARE_DELEGATE_XXXParams</code> ï¼Œå®å±•å¼€åå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// example:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">DECLARE_DELEGATE_TwoParams</span><span class="token punctuation">(</span>FOnQuaternionCommitted<span class="token punctuation">,</span> FQuat<span class="token punctuation">,</span> ETextCommit<span class="token operator">::</span>Type<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// å±•å¼€ç»“æœ:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">typedef</span> TDelegate<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token punctuation">(</span>FQuat<span class="token punctuation">,</span> ETextCommit<span class="token operator">::</span>Type<span class="token punctuation">)</span><span class="token operator">></span> FOnQuaternionCommitted<span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="tdelegate"><a class="anchor" href="#tdelegate">#</a> TDelegate</h3><p>Delegate å£°æ˜å®é™…ä¸Šæ˜¯å¯¹ <strong>TDelegate</strong> æ¨¡æ¿ç±»çš„å£°æ˜ã€‚<strong>TDelegate</strong> æœ€ç»ˆä¼šç»§æ‰¿ <strong>UserPolicy</strong> ä¸­çš„ <strong>FDelegateExtras</strong>ã€‚</p><p>è€Œ <strong>UserPolicy</strong> æ˜¯å¤–éƒ¨å®šä¹‰çš„æ¨¡æ¿ç±»ï¼Œé»˜è®¤ä¸º <strong>FDefaultDelegateUserPolicy</strong>ï¼Œ<strong>FDelegateExtras</strong> é»˜è®¤ä¸º <strong>FDelegateBase</strong>ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// TDelegate æœ¬èº«çš„å®šä¹‰:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">DelegateSignature</span><span class="token punctuation">,</span> <span class="token keyword">typename</span> <span class="token class-name">UserPolicy</span> <span class="token operator">=</span> FDefaultDelegateUserPolicy<span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TDelegate</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// ...</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">InRetValType</span><span class="token punctuation">,</span> <span class="token keyword">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> ParamTypes<span class="token punctuation">,</span> <span class="token keyword">typename</span> <span class="token class-name">UserPolicy</span><span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TDelegate</span><span class="token operator">&lt;</span><span class="token function">InRetValType</span><span class="token punctuation">(</span>ParamTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> UserPolicy<span class="token operator">></span> <span class="token operator">:</span> <span class="token keyword">public</span> TDelegateBase<span class="token operator">&lt;</span>UserPolicy<span class="token operator">></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// ...  </span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">UserPolicy</span><span class="token operator">></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TDelegateBase</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> UserPolicy<span class="token operator">::</span><span class="token class-name">FDelegateExtras</span></span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">// ...</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">FDefaultDelegateUserPolicy</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">using</span> FDelegateInstanceExtras  <span class="token operator">=</span> IDelegateInstance<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">using</span> FDelegateExtras          <span class="token operator">=</span> FDelegateBase<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">using</span> FMulticastDelegateExtras <span class="token operator">=</span> TMulticastDelegateBase<span class="token operator">&lt;</span>FDefaultDelegateUserPolicy<span class="token operator">></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><strong>FDelegateBase</strong> æä¾›äº†å¯¹ Delegate çš„å†…å­˜ç®¡ç†ï¼Œæ‰€æœ‰ <strong>TDelegate</strong> çš„åˆ›å»ºé”€æ¯åº•å±‚éƒ½æ˜¯åŸºäº <strong>FDelegateBase</strong>ã€‚</p><h3 id="delegate-instance"><a class="anchor" href="#delegate-instance">#</a> Delegate Instance</h3><p>Unreal åŸºäºæˆå‘˜å‡½æ•°çš„ç±»å‹åŠå‡½æ•°ç‰¹æ€§å¯¹ Delegate åˆåˆ’åˆ†å‡ºäº†å¤šä¸ªä¸åŒçš„å®ä¾‹ï¼š</p><ul><li><strong>TBaseRawMethodDelegateInstance</strong>ï¼šä»»æ„ C++ ç±»å‹çš„<strong>æˆå‘˜å‡½æ•°</strong>å§”æ‰˜ï¼Œå¯¹è±¡é€šè¿‡æŒ‡é’ˆè¿›è¡Œå­˜å‚¨ï¼Œå¦‚æœå¯¹è±¡è¢«é”€æ¯ï¼Œæ‰§è¡Œä¸å®‰å…¨ã€‚</li><li><strong>TBaseSPMethodDelegateInstance</strong>ï¼šä»»æ„ C++ ç±»å‹çš„<strong>æˆå‘˜å‡½æ•°</strong>å§”æ‰˜ï¼Œé€šè¿‡ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å…±äº«æŒ‡é’ˆæ¥å­˜å‚¨å§”æ‰˜æ‰€ç»‘å®šçš„å¯¹è±¡ï¼Œæ‰§è¡Œæ˜¯å®‰å…¨çš„ã€‚</li><li><strong>TBaseUFunctionDelegateInstance</strong>ï¼š<strong>UObject å¯¹è±¡ç±»å‹</strong>çš„<strong> UFunction å‡½æ•°</strong>å§”æ‰˜ï¼ŒåŸºäºåå°„è¿›è¡ŒæŸ¥æ‰¾å› æ­¤å¿…é¡»æ˜¯ UFunction å‡½æ•°ï¼Œæ„é€ æ—¶å¯ä»¥åªæä¾›<strong>å‡½æ•°å</strong>ï¼Œæä¾›å¼±å¼•ç”¨æŒ‡é’ˆç»‘å®š UObject å› æ­¤ä¹Ÿæ˜¯å®‰å…¨çš„ã€‚</li><li><strong>TBaseUObjectMethodDelegateInstance</strong>ï¼š<strong>UObject å¯¹è±¡ç±»å‹</strong>çš„<strong>æˆå‘˜å‡½æ•°</strong>å§”æ‰˜ï¼Œæ„é€ æ—¶éœ€è¦æä¾›å‡½æ•°æŒ‡é’ˆï¼Œå¯¹ UObject ä¹Ÿæ˜¯å¼±å¼•ç”¨ï¼Œå› æ­¤æ‰§è¡Œæ˜¯å®‰å…¨çš„ã€‚</li><li><strong>TBaseFunctorDelegateInstance</strong>ï¼šä»»æ„ç±»å‹çš„<strong>å‡½æ•°</strong>å§”æ‰˜ï¼Œå­˜å‚¨å‡½æ•°æŒ‡é’ˆï¼Œæ‰§è¡Œæ˜¯å®‰å…¨çš„ã€‚</li><li><strong>TWeakBaseFunctorDelegateInstance</strong>ï¼šä»»æ„ç±»å‹çš„<strong>æˆå‘˜å‡½æ•°</strong>å§”æ‰˜ï¼Œä¿å­˜çš„æ˜¯å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œæ‰§è¡Œæ˜¯å®‰å…¨çš„ã€‚</li><li><strong>TBaseStaticDelegateInstance</strong>ï¼šé™æ€ C++ å‡½æ•°æŒ‡é’ˆï¼Œå­˜å‚¨å‡½æ•°æŒ‡é’ˆï¼Œæ‰§è¡Œæ˜¯å®‰å…¨çš„ã€‚</li></ul><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/image-20221029100815344.png" alt="image-20221029100815344"></p><p>æ‰€æœ‰ <strong>Delegate Instance</strong> æœ€ç»ˆéƒ½ç»§æ‰¿è‡ª <strong>UserPolicy</strong> ä¸­çš„ <strong>FDelegateInstanceExtras</strong>ï¼Œå¹¶å„è‡ªå®ç°äº†å‡½æ•°ç»‘å®šè§„åˆ™ã€‚</p><h4 id="delegate-instance-å®ä¾‹åŒ–"><a class="anchor" href="#delegate-instance-å®ä¾‹åŒ–">#</a> Delegate Instance å®ä¾‹åŒ–</h4><p>TDelegate ä¸ºæ‰€æœ‰ç±»å‹çš„ <strong>Delegate Instance</strong> æä¾›äº†å®ä¾‹åŒ–çš„æ¥å£ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="2"></td><td><pre>* Static: Creates a raw C++ pointer global function delegate</pre></td></tr><tr><td data-num="3"></td><td><pre>*/</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> VarTypes<span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre>UE_NODISCARD <span class="token keyword">inline</span> <span class="token keyword">static</span> TDelegate<span class="token operator">&lt;</span><span class="token function">RetValType</span><span class="token punctuation">(</span>ParamTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> UserPolicy<span class="token operator">></span> <span class="token function">CreateStatic</span><span class="token punctuation">(</span><span class="token keyword">typename</span> <span class="token class-name">TIdentity</span><span class="token operator">&lt;</span><span class="token function">RetValType</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ParamTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> VarTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token operator">::</span>Type InFunc<span class="token punctuation">,</span> VarTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Vars<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	TDelegate<span class="token operator">&lt;</span><span class="token function">RetValType</span><span class="token punctuation">(</span>ParamTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> UserPolicy<span class="token operator">></span> Result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token class-name">TBaseStaticDelegateInstance</span><span class="token operator">&lt;</span>FuncType<span class="token punctuation">,</span> UserPolicy<span class="token punctuation">,</span> VarTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">></span><span class="token operator">::</span><span class="token function">Create</span><span class="token punctuation">(</span>Result<span class="token punctuation">,</span> InFunc<span class="token punctuation">,</span> Vars<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">return</span> Result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// ...</span></pre></td></tr></table></figure><p>æ‰€æœ‰ç±»å‹çš„ <strong>Delegate Instance</strong> éƒ½åœ¨è‡ªå·±çš„ Create æ¥å£ä¸­é€šè¿‡ <strong>FDelegateBase</strong> æä¾›çš„ <strong>new</strong> å‡½æ•°å®ç°å†…å­˜åˆ†é…å’Œå®ä¾‹åŒ–ï¼ˆè‡ªå·±åˆ›å»ºè‡ªå·±äº†å±äºæ˜¯ğŸ˜ƒ</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>FORCEINLINE <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Create</span><span class="token punctuation">(</span>FDelegateBase<span class="token operator">&amp;</span> Base<span class="token punctuation">,</span> FFuncPtr InFunc<span class="token punctuation">,</span> VarTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Vars<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">new</span> <span class="token punctuation">(</span>Base<span class="token punctuation">)</span> <span class="token function">UnwrappedThisType</span><span class="token punctuation">(</span>InFunc<span class="token punctuation">,</span> Vars<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">FDelegateBase</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    FDelegateAllocatorType<span class="token operator">::</span>ForElementType<span class="token operator">&lt;</span>FAlignedInlineDelegateType<span class="token operator">></span> DelegateAllocator<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	int32 DelegateSize<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">friend</span> <span class="token keyword">void</span><span class="token operator">*</span> <span class="token keyword">operator</span> <span class="token keyword">new</span><span class="token punctuation">(</span>size_t Size<span class="token punctuation">,</span> FDelegateBase<span class="token operator">&amp;</span> Base<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Allocate</span><span class="token punctuation">(</span>int32 Size<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>IDelegateInstance<span class="token operator">*</span> CurrentInstance <span class="token operator">=</span> <span class="token function">GetDelegateInstanceProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			CurrentInstance<span class="token operator">-></span><span class="token operator">~</span><span class="token function">IDelegateInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>		int32 NewDelegateSize <span class="token operator">=</span> <span class="token class-name">FMath</span><span class="token operator">::</span><span class="token function">DivideAndRoundUp</span><span class="token punctuation">(</span>Size<span class="token punctuation">,</span> <span class="token punctuation">(</span>int32<span class="token punctuation">)</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>FAlignedInlineDelegateType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>DelegateSize <span class="token operator">!=</span> NewDelegateSize<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>			DelegateAllocator<span class="token punctuation">.</span><span class="token function">ResizeAllocation</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> NewDelegateSize<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>FAlignedInlineDelegateType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>			DelegateSize <span class="token operator">=</span> NewDelegateSize<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token keyword">return</span> DelegateAllocator<span class="token punctuation">.</span><span class="token function">GetAllocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">inline</span> <span class="token keyword">void</span><span class="token operator">*</span> <span class="token keyword">operator</span> <span class="token keyword">new</span><span class="token punctuation">(</span>size_t Size<span class="token punctuation">,</span> FDelegateBase<span class="token operator">&amp;</span> Base<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">return</span> Base<span class="token punctuation">.</span><span class="token function">Allocate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>int32<span class="token punctuation">)</span>Size<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>new</strong> ä¼šè°ƒç”¨ <strong>Base.Allocate</strong> åˆ†é…ç»™ <strong>Delegate Instance</strong> å†…å­˜ç©ºé—´ï¼Œå¹¶åœ¨è¯¥ç©ºé—´å†…æ„é€  <strong>Delegate Instance</strong>ï¼Œè€Œç”±äºè¯¥ç©ºé—´è¢« FDelegateBase ä¸­çš„ <strong>DelegateAllocator</strong> æ‰€ç®¡ç†ï¼Œå› æ­¤ Create æœ€ç»ˆè¿”å›çš„æ˜¯ <strong>TDelegate</strong> æ¨¡æ¿å®ä¾‹ã€‚</p><p>è¿™æ ·ï¼Œå°±é€šè¿‡ <strong>TDelegate</strong> é™æ€å‡½æ•°æ„é€ å‡ºäº†ä¸ªæ–°çš„ <strong>TDelegate</strong> å®ä¾‹ï¼ŒTDelegate å®ä¾‹ä¸­è¿˜åŒ…å«äº†ä¸€ä¸ª <strong>Delegate Instance</strong> å¹¶ç»‘å®šäº†ä¸€ä¸ªè¯¥ç±»å‹çš„æ‰§è¡Œå‡½æ•°ä¸Šã€‚</p><h2 id="multicasedelegate-å¤šæ’­å§”æ‰˜"><a class="anchor" href="#multicasedelegate-å¤šæ’­å§”æ‰˜">#</a> MulticaseDelegate å¤šæ’­å§”æ‰˜</h2><p>åŒç†ï¼ŒMulticaseDelegate çš„å®å®šä¹‰ä¸ºï¼š <code>DECLARE_MULTICAST_DELEGATE_XXXParams</code> ï¼Œå®å±•å¼€åå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// example:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">DECLARE_MULTICAST_DELEGATE_TwoParams</span><span class="token punctuation">(</span>FNewItemEvent<span class="token punctuation">,</span> <span class="token keyword">const</span> FVisualLoggerDBRow<span class="token operator">&amp;</span><span class="token punctuation">,</span> int32<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// å±•å¼€ç»“æœ:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">typedef</span> TMulticastDelegate<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token keyword">const</span> FVisualLoggerDBRow<span class="token operator">&amp;</span><span class="token punctuation">,</span> int32<span class="token punctuation">)</span><span class="token operator">></span> FNewItemEvent<span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="tmulticastdelegate"><a class="anchor" href="#tmulticastdelegate">#</a> TMulticastDelegate</h3><p>MulticaseDelegate å£°æ˜å®é™…ä¸Šæ˜¯å¯¹ <strong>TMulticastDelegate</strong> æ¨¡æ¿ç±»çš„å£°æ˜ã€‚è€Œ <strong>TMulticastDelegate</strong> æœ€ç»ˆä¼šç»§æ‰¿ <strong>UserPolicy</strong> ä¸­çš„ <strong>FMulticastDelegateExtras</strong>ã€‚</p><p>é»˜è®¤ä¸º <strong>TMulticastDelegateBase<fdefaultdelegateuserpolicy></fdefaultdelegateuserpolicy></strong>ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> ParamTypes<span class="token punctuation">,</span> <span class="token keyword">typename</span> <span class="token class-name">UserPolicy</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TMulticastDelegate</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token punctuation">(</span>ParamTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> UserPolicy<span class="token operator">></span> <span class="token operator">:</span> <span class="token keyword">public</span> UserPolicy<span class="token operator">::</span>FMulticastDelegateExtras</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token comment">// ...</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">using</span> FMulticastDelegateExtras <span class="token operator">=</span> TMulticastDelegateBase<span class="token operator">&lt;</span>FDefaultDelegateUserPolicy<span class="token operator">></span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><strong>TMulticastDelegateBase</strong> æœ¬è´¨ä¸Šæ˜¯ <strong>TDelegateBase</strong> çš„æ•°ç»„ï¼Œå¤šæ’­ï¼ˆ<strong>Broadcast</strong>ï¼‰å…¶å®æ˜¯å¯¹æ‰€æœ‰å·²æ³¨å†Œçš„ TDelegateBase çš„<strong>å€’åº</strong>æ‰§è¡Œï¼ˆ<strong>ExecuteIfSafe</strong>ï¼‰ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TMulticastDelegateBase</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token comment">/** Holds the collection of delegate instances to invoke. */</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	InvocationListType InvocationList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">/** Holds a lock counter for the invocation list. */</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">mutable</span> int32 InvocationListLockCount<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> ParamTypes<span class="token punctuation">,</span> <span class="token keyword">typename</span> <span class="token class-name">UserPolicy</span><span class="token operator">></span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TMulticastDelegate</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token punctuation">(</span>ParamTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> UserPolicy<span class="token operator">></span> <span class="token operator">:</span> <span class="token keyword">public</span> UserPolicy<span class="token operator">::</span>FMulticastDelegateExtras</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">Broadcast</span><span class="token punctuation">(</span>ParamTypes<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Params<span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">bool</span> NeedsCompaction <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token class-name">Super</span><span class="token operator">::</span><span class="token function">LockInvocationList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>			<span class="token keyword">const</span> InvocationListType<span class="token operator">&amp;</span> LocalInvocationList <span class="token operator">=</span> <span class="token class-name">Super</span><span class="token operator">::</span><span class="token function">GetInvocationList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>             <span class="token comment">// call bound functions in reverse order, so we ignore any instances that may be added by callees</span></pre></td></tr><tr><td data-num="21"></td><td><pre>			<span class="token keyword">for</span> <span class="token punctuation">(</span>int32 InvocationListIndex <span class="token operator">=</span> LocalInvocationList<span class="token punctuation">.</span><span class="token function">Num</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> InvocationListIndex <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>InvocationListIndex<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>				<span class="token keyword">const</span> FDelegate<span class="token operator">&amp;</span> DelegateBase <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">const</span> FDelegate<span class="token operator">&amp;</span><span class="token punctuation">)</span>LocalInvocationList<span class="token punctuation">[</span>InvocationListIndex<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>				IDelegateInstance<span class="token operator">*</span> DelegateInstanceInterface <span class="token operator">=</span> <span class="token class-name">Super</span><span class="token operator">::</span><span class="token function">GetDelegateInstanceProtectedHelper</span><span class="token punctuation">(</span>DelegateBase<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>				<span class="token keyword">if</span> <span class="token punctuation">(</span>DelegateInstanceInterface <span class="token operator">==</span> <span class="token keyword">nullptr</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">(</span>DelegateInstanceInterfaceType<span class="token operator">*</span><span class="token punctuation">)</span>DelegateInstanceInterface<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">ExecuteIfSafe</span><span class="token punctuation">(</span>Params<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>				<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>					NeedsCompaction <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>				<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token class-name">Super</span><span class="token operator">::</span><span class="token function">UnlockInvocationList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>NeedsCompaction<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			<span class="token keyword">const_cast</span><span class="token operator">&lt;</span>TMulticastDelegate<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">CompactInvocationList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="event-äº‹ä»¶"><a class="anchor" href="#event-äº‹ä»¶">#</a> Event äº‹ä»¶</h2><p>Event æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª <strong>MulticaseDelegate</strong> å¤šæ’­å§”æ‰˜ã€‚å”¯ä¸€çš„åŒºåˆ«åœ¨äº Event éœ€è¦æŒ‡å®šè°ƒç”¨çš„ç±»å‹ã€‚é€šè¿‡å‹å…ƒç±»æ§åˆ¶ï¼Œå¹¶éæ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥è§¦å‘ Eventã€‚</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// example:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">DECLARE_EVENT_TwoParams</span><span class="token punctuation">(</span>UEngine<span class="token punctuation">,</span> FLevelActorOuterChangedEvent<span class="token punctuation">,</span> AActor<span class="token operator">*</span><span class="token punctuation">,</span> UObject<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// å±•å¼€ç»“æœ:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">FLevelActorOuterChangedEvent</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">TMulticastDelegate</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token class-name">AActor</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token class-name">UObject</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span> <span class="token keyword">friend</span> <span class="token keyword">class</span> <span class="token class-name">UEngine</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="dynamicdelegate-åŠ¨æ€å§”æ‰˜"><a class="anchor" href="#dynamicdelegate-åŠ¨æ€å§”æ‰˜">#</a> DynamicDelegate åŠ¨æ€å§”æ‰˜</h2><p>ç›¸æ¯”äºç®€å•å§”æ‰˜ï¼ŒåŠ¨æ€å§”æ‰˜é‡‡ç”¨äº†å¦ä¸€å¥—å®ç°ä½“ç³» â€”â€”<strong>TBaseDynamicDelegate</strong>ã€‚</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// example:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">DECLARE_DYNAMIC_DELEGATE_TwoParams</span><span class="token punctuation">(</span>FOnItemSelected<span class="token punctuation">,</span> UUserWidget<span class="token operator">*</span><span class="token punctuation">,</span> Widget<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token punctuation">,</span> Selected<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// å±•å¼€ç»“æœ:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>FID_Engine_Plugins_Experimental_CommonUI_Source_CommonUI_Public_CommonUITypes_h_176_DELEGATE</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">FOnItemSelected</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">TBaseDynamicDelegate</span><span class="token operator">&lt;</span><span class="token class-name">FWeakObjectPtr</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> <span class="token class-name">UUserWidget</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token function">FOnItemSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">explicit</span> <span class="token function">FOnItemSelected</span><span class="token punctuation">(</span><span class="token keyword">const</span> TScriptDelegate<span class="token operator">&lt;</span><span class="token operator">></span> <span class="token operator">&amp;</span>InScriptDelegate<span class="token punctuation">)</span> <span class="token operator">:</span> TBaseDynamicDelegate<span class="token operator">&lt;</span>FWeakObjectPtr<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> UUserWidget <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">></span><span class="token punctuation">(</span>InScriptDelegate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">Execute</span><span class="token punctuation">(</span>UUserWidget <span class="token operator">*</span>InParam1<span class="token punctuation">,</span> <span class="token keyword">bool</span> InParam2<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token function">checkSlow</span><span class="token punctuation">(</span><span class="token function">IsBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token function">FOnItemSelected_DelegateWrapper</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">,</span> InParam1<span class="token punctuation">,</span> InParam2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">ExecuteIfBound</span><span class="token punctuation">(</span>UUserWidget <span class="token operator">*</span>InParam1<span class="token punctuation">,</span> <span class="token keyword">bool</span> InParam2<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token function">FOnItemSelected_DelegateWrapper</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">,</span> InParam1<span class="token punctuation">,</span> InParam2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° <strong>Execute</strong> å’Œ <strong>ExecuteIfBound</strong> éƒ½è°ƒç”¨äº† <strong>FOnItemSelected_DelegateWrapper</strong>ï¼Œä½†å¹¶æ²¡æœ‰ FOnItemSelected_DelegateWrapper çš„å£°æ˜å’Œå®šä¹‰</p><p>ç­”æ¡ˆå…¶å®åœ¨ <strong>FID_Engine_Plugins_Experimental_CommonUI_Source_CommonUI_Public_CommonUITypes_h_176_DELEGATE</strong> ä¸­ï¼Œ <code>FID_Engine_Plugins_Experimental_CommonUI_Source_CommonUI_Public_CommonUITypes_h_176_DELEGATE</code> æœ¬èº«æ˜¯ä¸€ä¸ªå®å®šä¹‰ï¼Œå®ƒçš„å®šä¹‰è§„åˆ™é€šè¿‡ Unreal çš„ UHT ç”Ÿæˆåœ¨ XXX.generated.h æ–‡ä»¶å†…ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">FID_Engine_Plugins_Experimental_CommonUI_Source_CommonUI_Public_CommonUITypes_h_176_DELEGATE </span><span class="token punctuation">\</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token expression"><span class="token keyword">struct</span> <span class="token class-name">_Script_CommonUI_eventOnItemSelected_Parms</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token expression"><span class="token punctuation">&#123;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token expression">UUserWidget<span class="token operator">*</span> Widget<span class="token punctuation">;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token expression"><span class="token keyword">bool</span> Selected<span class="token punctuation">;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token expression"><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token expression"><span class="token keyword">static</span> <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">FOnItemSelected_DelegateWrapper</span><span class="token punctuation">(</span><span class="token keyword">const</span> FScriptDelegate<span class="token operator">&amp;</span> OnItemSelected<span class="token punctuation">,</span> UUserWidget<span class="token operator">*</span> Widget<span class="token punctuation">,</span> <span class="token keyword">bool</span> Selected<span class="token punctuation">)</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token expression"><span class="token punctuation">&#123;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token expression">_Script_CommonUI_eventOnItemSelected_Parms Parms<span class="token punctuation">;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token expression">Parms<span class="token punctuation">.</span>Widget<span class="token operator">=</span>Widget<span class="token punctuation">;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token expression">Parms<span class="token punctuation">.</span>Selected<span class="token operator">=</span>Selected <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token expression">OnItemSelected<span class="token punctuation">.</span>ProcessDelegate<span class="token operator">&lt;</span>UObject<span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Parms<span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token expression"><span class="token punctuation">&#125;</span></span></pre></td></tr></table></figure><p>å› æ­¤æœ€ç»ˆå±•å¼€ç»“æœåº”è¯¥æ˜¯è¿™æ ·ï¼š</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">_Script_CommonUI_eventOnItemSelected_Parms</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    UUserWidget <span class="token operator">*</span>Widget<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">bool</span> Selected<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">FOnItemSelected_DelegateWrapper</span><span class="token punctuation">(</span><span class="token keyword">const</span> FScriptDelegate <span class="token operator">&amp;</span>OnItemSelected<span class="token punctuation">,</span> UUserWidget <span class="token operator">*</span>Widget<span class="token punctuation">,</span> <span class="token keyword">bool</span> Selected<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    _Script_CommonUI_eventOnItemSelected_Parms Parms<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    Parms<span class="token punctuation">.</span>Widget <span class="token operator">=</span> Widget<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    Parms<span class="token punctuation">.</span>Selected <span class="token operator">=</span> Selected <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    OnItemSelected<span class="token punctuation">.</span>ProcessDelegate<span class="token operator">&lt;</span>UObject<span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Parms<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">FOnItemSelected</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">TBaseDynamicDelegate</span><span class="token operator">&lt;</span><span class="token class-name">FWeakObjectPtr</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> <span class="token class-name">UUserWidget</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">FOnItemSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">explicit</span> <span class="token function">FOnItemSelected</span><span class="token punctuation">(</span><span class="token keyword">const</span> TScriptDelegate<span class="token operator">&lt;</span><span class="token operator">></span> <span class="token operator">&amp;</span>InScriptDelegate<span class="token punctuation">)</span> <span class="token operator">:</span> TBaseDynamicDelegate<span class="token operator">&lt;</span>FWeakObjectPtr<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> UUserWidget <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">></span><span class="token punctuation">(</span>InScriptDelegate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">Execute</span><span class="token punctuation">(</span>UUserWidget <span class="token operator">*</span>InParam1<span class="token punctuation">,</span> <span class="token keyword">bool</span> InParam2<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token function">checkSlow</span><span class="token punctuation">(</span><span class="token function">IsBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token function">FOnItemSelected_DelegateWrapper</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">,</span> InParam1<span class="token punctuation">,</span> InParam2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">ExecuteIfBound</span><span class="token punctuation">(</span>UUserWidget <span class="token operator">*</span>InParam1<span class="token punctuation">,</span> <span class="token keyword">bool</span> InParam2<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token function">FOnItemSelected_DelegateWrapper</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">,</span> InParam1<span class="token punctuation">,</span> InParam2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="tscriptdelegate"><a class="anchor" href="#tscriptdelegate">#</a> TScriptDelegate</h3><p><strong>TScriptDelegate</strong> æ˜¯æ‰€æœ‰ DynamicDelegate çš„åŸºç±»ï¼Œæä¾›ç»‘å®š / è§£ç»‘ / æ‰§è¡Œç­‰åŸºç¡€æ¥å£ã€‚ç›¸æ¯”äºç®€å•å§”æ‰˜åœ¨ç»‘å®šå®Œæˆåï¼Œåªèƒ½é€šè¿‡ <strong>Delegate Instance</strong> é”€æ¯é‡å»ºçš„å½¢å¼æ¥åˆ‡æ¢ç»‘å®šå¯¹è±¡ï¼›<strong>TScriptDelegate</strong> é‡‡ç”¨äº†æ›´ä¼˜é›…çš„<strong>åŠ¨æ€</strong>ç»‘å®šæœºåˆ¶ï¼Œå³é€šè¿‡<strong>å¯¹è±¡å®ä¾‹æŒ‡é’ˆ</strong> &amp;&amp; <strong>å‡½æ•°å</strong> åˆ©ç”¨åå°„æœºåˆ¶çš„ç»‘å®šæµç¨‹ã€‚ç„¶è€Œåå°„æœºåˆ¶çš„å®ç°ï¼Œä¾èµ–äº <strong>UObject</strong> å¯¹è±¡å…³è”çš„ UClass ä¸­åŒ…å«çš„å…ƒæ•°æ®ï¼Œå› æ­¤åŠ¨æ€å§”æ‰˜çš„ç»‘å®šå‡½æ•°ä¹Ÿå¿…é¡»æ˜¯ <strong>UFunction</strong> ç±»å‹ã€‚</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">TWeakPtr</span><span class="token punctuation">,</span> <span class="token keyword">typename</span> <span class="token class-name">RetValType</span><span class="token punctuation">,</span> <span class="token keyword">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> ParamTypes<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TBaseDynamicDelegate</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">TScriptDelegate</span><span class="token operator">&lt;</span><span class="token class-name">TWeakPtr</span><span class="token operator">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment">// ...</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">TWeakPtr</span> <span class="token operator">=</span> FWeakObjectPtr<span class="token operator">></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TScriptDelegate</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	 * Binds a UFunction to this delegate.</pre></td></tr><tr><td data-num="12"></td><td><pre>	 *</pre></td></tr><tr><td data-num="13"></td><td><pre>	 * @param InObject The object to call the function on.</pre></td></tr><tr><td data-num="14"></td><td><pre>	 * @param InFunctionName The name of the function to call.</pre></td></tr><tr><td data-num="15"></td><td><pre>	 */</pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">BindUFunction</span><span class="token punctuation">(</span> UObject<span class="token operator">*</span> InObject<span class="token punctuation">,</span> <span class="token keyword">const</span> FName<span class="token operator">&amp;</span> InFunctionName <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		Object <span class="token operator">=</span> InObject<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		FunctionName <span class="token operator">=</span> InFunctionName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    </pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token comment">/**</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	 * Unbinds this delegate</pre></td></tr><tr><td data-num="24"></td><td><pre>	 */</pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">Unbind</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		Object <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		FunctionName <span class="token operator">=</span> NAME_None<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    </pre></td></tr><tr><td data-num="31"></td><td><pre>     <span class="token comment">/**</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	 * Executes a delegate by calling the named function on the object bound to the delegate.  You should</pre></td></tr><tr><td data-num="33"></td><td><pre>	 * always first verify that the delegate is safe to execute by calling IsBound() before calling this function.</pre></td></tr><tr><td data-num="34"></td><td><pre>	 * In general, you should never call this function directly.  Instead, call Execute() on a derived class.</pre></td></tr><tr><td data-num="35"></td><td><pre>	 *</pre></td></tr><tr><td data-num="36"></td><td><pre>	 * @param	Parameters		Parameter structure</pre></td></tr><tr><td data-num="37"></td><td><pre>	 */</pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token comment">//CORE_API void ProcessDelegate(void* Parameters) const;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">UObjectTemplate</span><span class="token operator">></span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">ProcessDelegate</span><span class="token punctuation">(</span> <span class="token keyword">void</span><span class="token operator">*</span> Parameters <span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token comment">// sure IsBound() returns true before calling ProcessDelegate()!</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		UObjectTemplate<span class="token operator">*</span> ObjectPtr <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span> UObjectTemplate<span class="token operator">*</span> <span class="token operator">></span><span class="token punctuation">(</span> Object<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// Down-cast</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token function">checkSlow</span><span class="token punctuation">(</span> <span class="token function">IsValid</span><span class="token punctuation">(</span>ObjectPtr<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>		<span class="token comment">// Object *must* implement the specified function</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		UFunction<span class="token operator">*</span> Function <span class="token operator">=</span> ObjectPtr<span class="token operator">-></span><span class="token function">FindFunctionChecked</span><span class="token punctuation">(</span> FunctionName <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>		<span class="token comment">// Execute the delegate!</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		ObjectPtr<span class="token operator">-></span><span class="token function">ProcessEvent</span><span class="token punctuation">(</span>Function<span class="token punctuation">,</span> Parameters<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token comment">// ...</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre>UFunction<span class="token operator">*</span> <span class="token class-name">UObject</span><span class="token operator">::</span><span class="token function">FindFunctionChecked</span><span class="token punctuation">(</span> FName InName <span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	UFunction<span class="token operator">*</span> Result <span class="token operator">=</span> <span class="token function">FindFunction</span><span class="token punctuation">(</span>InName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>Result <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>		<span class="token function">UE_LOG</span><span class="token punctuation">(</span>LogScriptCore<span class="token punctuation">,</span> Fatal<span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"Failed to find function %s in %s"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>InName<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token function">GetFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token keyword">return</span> Result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre>UFunction<span class="token operator">*</span> <span class="token class-name">UObject</span><span class="token operator">::</span><span class="token function">FindFunction</span><span class="token punctuation">(</span> FName InName <span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token keyword">return</span> <span class="token function">GetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">FindFunctionByName</span><span class="token punctuation">(</span>InName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="dynamicmulticasedelegate-åŠ¨æ€å¤šæ’­å§”æ‰˜"><a class="anchor" href="#dynamicmulticasedelegate-åŠ¨æ€å¤šæ’­å§”æ‰˜">#</a> DynamicMulticaseDelegate åŠ¨æ€å¤šæ’­å§”æ‰˜</h2><p>è¯¥å§”æ‰˜å¯ä»¥åŠ¨æ€ç»‘å®šä¸€ç»„æˆå‘˜å‡½æ•°ï¼Œå¯¹äºæ”¯æŒç¼–è¾‘å™¨å½¢å¼ (éœ€è¦åŠ¨æ€å¢åˆ ) çš„äº‹ä»¶è°ƒç”¨éå¸¸çš„æœ‰æ•ˆï¼ˆå°¤å…¶æ˜¯è“å›¾</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// example:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">DECLARE_DYNAMIC_MULTICAST_DELEGATE_TwoParams</span><span class="token punctuation">(</span>FOnBeforePopup<span class="token punctuation">,</span> FString<span class="token punctuation">,</span> URL<span class="token punctuation">,</span> FString<span class="token punctuation">,</span> Frame<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// å±•å¼€ç»“æœ:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">WebBrowser_eventOnBeforePopup_Parms</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    FString URL<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    FString Frame<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">FOnBeforePopup_DelegateWrapper</span><span class="token punctuation">(</span><span class="token keyword">const</span> FMulticastScriptDelegate <span class="token operator">&amp;</span>OnBeforePopup<span class="token punctuation">,</span> <span class="token keyword">const</span> FString <span class="token operator">&amp;</span>URL<span class="token punctuation">,</span> <span class="token keyword">const</span> FString <span class="token operator">&amp;</span>Frame<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    WebBrowser_eventOnBeforePopup_Parms Parms<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    Parms<span class="token punctuation">.</span>URL <span class="token operator">=</span> URL<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    Parms<span class="token punctuation">.</span>Frame <span class="token operator">=</span> Frame<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    OnBeforePopup<span class="token punctuation">.</span>ProcessMulticastDelegate<span class="token operator">&lt;</span>UObject<span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Parms<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">FOnBeforePopup</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">TBaseDynamicMulticastDelegate</span><span class="token operator">&lt;</span><span class="token class-name">FWeakObjectPtr</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> <span class="token class-name">FString</span><span class="token punctuation">,</span> <span class="token class-name">FString</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token function">FOnBeforePopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">explicit</span> <span class="token function">FOnBeforePopup</span><span class="token punctuation">(</span><span class="token keyword">const</span> TMulticastScriptDelegate<span class="token operator">&lt;</span><span class="token operator">></span> <span class="token operator">&amp;</span>InMulticastScriptDelegate<span class="token punctuation">)</span> <span class="token operator">:</span> TBaseDynamicMulticastDelegate<span class="token operator">&lt;</span>FWeakObjectPtr<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> FString<span class="token punctuation">,</span> FString<span class="token operator">></span><span class="token punctuation">(</span>InMulticastScriptDelegate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">Broadcast</span><span class="token punctuation">(</span>FString InParam1<span class="token punctuation">,</span> FString InParam2<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token function">FOnBeforePopup_DelegateWrapper</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">,</span> InParam1<span class="token punctuation">,</span> InParam2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="tmulticastscriptdelegate"><a class="anchor" href="#tmulticastscriptdelegate">#</a> TMulticastScriptDelegate</h3><p>TMulticastScriptDelegate æ˜¯æ‰€æœ‰ DynamicMulticaseDelegate çš„åŸºç±»ï¼Œè´Ÿè´£ç®¡ç†å’Œç»´æŠ¤ <strong>TScriptDelegate</strong> çš„æ•°ç»„</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/image-20221027104606040.png" alt="image-20221027104606040"></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">TMulticastScriptDelegate</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>     <span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	 * Executes a multi-cast delegate by calling all functions on objects bound to the delegate.  Always</pre></td></tr><tr><td data-num="5"></td><td><pre>	 * safe to call, even if when no objects are bound, or if objects have expired.  In general, you should</pre></td></tr><tr><td data-num="6"></td><td><pre>	 * never call this function directly.  Instead, call Broadcast() on a derived class.</pre></td></tr><tr><td data-num="7"></td><td><pre>	 *</pre></td></tr><tr><td data-num="8"></td><td><pre>	 * @param	Params				Parameter structure</pre></td></tr><tr><td data-num="9"></td><td><pre>	 */</pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">UObjectTemplate</span><span class="token operator">></span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">ProcessMulticastDelegate</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> Parameters<span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span> InvocationList<span class="token punctuation">.</span><span class="token function">Num</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>			<span class="token comment">// Create a copy of the invocation list, just in case the list is modified by one of the callbacks during the broadcast</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			<span class="token keyword">typedef</span> TArray<span class="token operator">&lt;</span> TScriptDelegate<span class="token operator">&lt;</span>TWeakPtr<span class="token operator">></span><span class="token punctuation">,</span> TInlineAllocator<span class="token operator">&lt;</span> <span class="token number">4</span> <span class="token operator">></span> <span class="token operator">></span> FInlineInvocationList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			FInlineInvocationList InvocationListCopy <span class="token operator">=</span> <span class="token function">FInlineInvocationList</span><span class="token punctuation">(</span>InvocationList<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	</pre></td></tr><tr><td data-num="19"></td><td><pre>			<span class="token comment">// Invoke each bound function</span></pre></td></tr><tr><td data-num="20"></td><td><pre>			<span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">typename</span> <span class="token class-name">FInlineInvocationList</span><span class="token operator">::</span>TConstIterator <span class="token function">FunctionIt</span><span class="token punctuation">(</span> InvocationListCopy <span class="token punctuation">)</span><span class="token punctuation">;</span> FunctionIt<span class="token punctuation">;</span> <span class="token operator">++</span>FunctionIt <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>				<span class="token keyword">if</span><span class="token punctuation">(</span> FunctionIt<span class="token operator">-></span><span class="token function">IsBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>				<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>					<span class="token comment">// Invoke this delegate!</span></pre></td></tr><tr><td data-num="25"></td><td><pre>					FunctionIt<span class="token operator">-></span><span class="token keyword">template</span> ProcessDelegate<span class="token operator">&lt;</span>UObjectTemplate<span class="token operator">></span><span class="token punctuation">(</span>Parameters<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>				<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>				<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> FunctionIt<span class="token operator">-></span><span class="token function">IsCompactable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>				<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>					<span class="token comment">// Function couldn't be executed, so remove it.  Note that because the original list could have been modified by one of the callbacks, we have to search for the function to remove here.</span></pre></td></tr><tr><td data-num="30"></td><td><pre>					<span class="token function">RemoveInternal</span><span class="token punctuation">(</span> <span class="token operator">*</span>FunctionIt <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>				<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    </pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token keyword">typedef</span> TArray<span class="token operator">&lt;</span> TScriptDelegate<span class="token operator">&lt;</span>TWeakPtr<span class="token operator">></span> <span class="token operator">></span> FInvocationList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token comment">/** Ordered list functions to invoke when the Broadcast function is called */</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token keyword">mutable</span> FInvocationList InvocationList<span class="token punctuation">;</span>		<span class="token comment">// Mutable so that we can housekeep list even with 'const' broadcasts</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="sparsedynamicdelegate-ç¨€ç–åŠ¨æ€å§”æ‰˜"><a class="anchor" href="#sparsedynamicdelegate-ç¨€ç–åŠ¨æ€å§”æ‰˜">#</a> SparseDynamicDelegate ç¨€ç–åŠ¨æ€å§”æ‰˜</h2><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// example:</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">DECLARE_DYNAMIC_MULTICAST_SPARSE_DELEGATE_TwoParams</span><span class="token punctuation">(</span>FActorOnClickedSignature<span class="token punctuation">,</span> AActor<span class="token punctuation">,</span> OnClicked<span class="token punctuation">,</span> AActor<span class="token operator">*</span><span class="token punctuation">,</span> TouchedActor<span class="token punctuation">,</span> FKey<span class="token punctuation">,</span> ButtonPressed<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// å±•å¼€ç»“æœ:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">_Script_Engine_eventActorOnClickedSignature_Parms</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    AActor <span class="token operator">*</span>TouchedActor<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    FKey ButtonPressed<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">FActorOnClickedSignature_DelegateWrapper</span><span class="token punctuation">(</span><span class="token keyword">const</span> FMulticastScriptDelegate <span class="token operator">&amp;</span>ActorOnClickedSignature<span class="token punctuation">,</span> AActor <span class="token operator">*</span>TouchedActor<span class="token punctuation">,</span> FKey ButtonPressed<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    _Script_Engine_eventActorOnClickedSignature_Parms Parms<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    Parms<span class="token punctuation">.</span>TouchedActor <span class="token operator">=</span> TouchedActor<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    Parms<span class="token punctuation">.</span>ButtonPressed <span class="token operator">=</span> ButtonPressed<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    ActorOnClickedSignature<span class="token punctuation">.</span>ProcessMulticastDelegate<span class="token operator">&lt;</span>UObject<span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Parms<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">FActorOnClickedSignature_MCSignature</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">TBaseDynamicMulticastDelegate</span><span class="token operator">&lt;</span><span class="token class-name">FWeakObjectPtr</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> <span class="token class-name">AActor</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token class-name">FKey</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token function">FActorOnClickedSignature_MCSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">explicit</span> <span class="token function">FActorOnClickedSignature_MCSignature</span><span class="token punctuation">(</span><span class="token keyword">const</span> TMulticastScriptDelegate<span class="token operator">&lt;</span><span class="token operator">></span> <span class="token operator">&amp;</span>InMulticastScriptDelegate<span class="token punctuation">)</span> <span class="token operator">:</span> TBaseDynamicMulticastDelegate<span class="token operator">&lt;</span>FWeakObjectPtr<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">,</span> AActor <span class="token operator">*</span><span class="token punctuation">,</span> FKey<span class="token operator">></span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            InMulticastScriptDelegate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">Broadcast</span><span class="token punctuation">(</span>AActor <span class="token operator">*</span>InParam1<span class="token punctuation">,</span> FKey InParam2<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token function">FActorOnClickedSignature_DelegateWrapper</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">,</span> InParam1<span class="token punctuation">,</span> InParam2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">FActorOnClickedSignatureInfoGetter</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">GetDelegateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token string">"OnClicked"</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token keyword">static</span> size_t <span class="token function">GetDelegateOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token function">offsetof</span><span class="token punctuation">(</span>T<span class="token punctuation">,</span> OnClicked<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">FActorOnClickedSignature</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">TSparseDynamicDelegate</span><span class="token operator">&lt;</span><span class="token class-name">FActorOnClickedSignature_MCSignature</span><span class="token punctuation">,</span> <span class="token class-name">AActor</span><span class="token punctuation">,</span> <span class="token class-name">FActorOnClickedSignatureInfoGetter</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><strong>SparseDynamicDelegate</strong> å®å±•å¼€ç›¸å¯¹å¤æ‚ä¸€äº›ï¼Œä¸»è¦å†…å®¹å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ul><li>ç»§æ‰¿è‡ª <strong>TBaseDynamicMulticastDelegate</strong> çš„ <strong>FActorOnClickedSignature_MCSignature</strong> ç±»ï¼Œå®ç°äº†åŸºæœ¬çš„åŠ¨æ€å¤šæ’­å§”æ‰˜é€»è¾‘ï¼Œä½†å‘½åä¸Šåšäº†æ”¹åŠ¨ï¼Œæ²¡æœ‰æ­£å¸¸æš´éœ²ç»™å¤–éƒ¨ä½¿ç”¨ã€‚</li><li>ç»§æ‰¿è‡ª <strong>TSparseDynamicDelegate&lt;FActorOnClickedSignature_MCSignature...&gt;</strong> çš„ <strong>FActorOnClickedSignature</strong> ç±»ï¼Œé‡æ–°å®ç°äº† TBaseDynamicMulticastDelegate ä¸­æ“ä½œå§”æ‰˜æ•°ç»„çš„å„é¡¹æ¥å£ï¼Œé‡å®šå‘ä¿®æ”¹åˆ°äº† <strong>FSparseDelegateStorage</strong>ã€‚å¼€å‘è€…å®é™…ä¸Šæ˜¯é€šè¿‡ FActorOnClickedSignature é—´æ¥æ“ä½œ FActorOnClickedSignature_MCSignatureã€‚</li></ul><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/image-20221027113233720.png" alt="image-20221027113233720"></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">FSparseDelegate</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	* Adds a function delegate to this multi-cast delegate's invocation list if a delegate with the same signature</pre></td></tr><tr><td data-num="5"></td><td><pre>	* doesn't already exist in the invocation list</pre></td></tr><tr><td data-num="6"></td><td><pre>	*</pre></td></tr><tr><td data-num="7"></td><td><pre>	* @param	DelegateOwner	UObject that owns the resolved sparse delegate</pre></td></tr><tr><td data-num="8"></td><td><pre>	* @param	DelegateName	Name of the resolved sparse delegate</pre></td></tr><tr><td data-num="9"></td><td><pre>	* @param	InDelegate		Delegate to bind to the sparse delegate</pre></td></tr><tr><td data-num="10"></td><td><pre>	* </pre></td></tr><tr><td data-num="11"></td><td><pre>	* NOTE:  Only call this function from blueprint sparse delegate infrastructure on a resolved generic FScriptDelegate pointer.</pre></td></tr><tr><td data-num="12"></td><td><pre>	*        Generally from C++ you should call AddUnique() directly.</pre></td></tr><tr><td data-num="13"></td><td><pre>	*/</pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">__Internal_AddUnique</span><span class="token punctuation">(</span><span class="token keyword">const</span> UObject<span class="token operator">*</span> DelegateOwner<span class="token punctuation">,</span> FName DelegateName<span class="token punctuation">,</span> FScriptDelegate InDelegate<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		bIsBound <span class="token operator">|=</span> <span class="token class-name">FSparseDelegateStorage</span><span class="token operator">::</span><span class="token function">AddUnique</span><span class="token punctuation">(</span>DelegateOwner<span class="token punctuation">,</span> DelegateName<span class="token punctuation">,</span> <span class="token function">MoveTemp</span><span class="token punctuation">(</span>InDelegate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    </pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token comment">// ...</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="fsparsedelegatestorage"><a class="anchor" href="#fsparsedelegatestorage">#</a> FSparseDelegateStorage</h3><p><strong>FSparseDelegateStorage</strong> å¯ä»¥ç†è§£æˆä¸€ä¸ªç»´æŠ¤å…¨å±€åŠ¨æ€å¤šæ’­å§”æ‰˜çš„å•ä¾‹ï¼Œå®ƒçš„æ‰€æœ‰æˆå‘˜å˜é‡ / å‡½æ•°éƒ½æ˜¯ Staticã€‚é€šè¿‡ä¸€ä¸ªå…¨å±€ map æ¥è®°å½• UObject ä¸­æ‰€æœ‰ <strong>FMulticastScriptDelegate</strong> çš„å¼±å¼•ç”¨ï¼Œè€Œ <strong>FMulticastScriptDelegate</strong> ä¸­åˆå­˜å‚¨äº†å¤šä¸ª <strong>FScriptDelegate</strong>ã€‚</p><p>é¡ºå¸¦ä¸€æ <strong>FScriptDelegate</strong> å’Œ <strong>FMulticastScriptDelegate</strong> åˆ†åˆ«æ˜¯ <strong>TScriptDelegate</strong> å’Œ <strong>TMulticastScriptDelegate</strong> çš„ç‰¹åŒ–ç‰ˆæœ¬... è¿™é‡Œç»å¸¸å®¹æ˜“ææ··ã€‚</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// Typedef script delegates for convenience.</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">typedef</span> TScriptDelegate<span class="token operator">&lt;</span><span class="token operator">></span> FScriptDelegate<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">typedef</span> TMulticastScriptDelegate<span class="token operator">&lt;</span><span class="token operator">></span> FMulticastScriptDelegate<span class="token punctuation">;</span></pre></td></tr></table></figure><p>é€šè¿‡ <strong>TSparseDynamicDelegate</strong> å‘ <strong>FMulticastScriptDelegate</strong> æ·»åŠ  <strong>FScriptDelegate</strong> æ—¶ï¼Œä¼šå…ˆæŠŠ <strong>FMulticastScriptDelegate</strong> æ³¨å†Œåˆ° <strong>FSparseDelegateStorage</strong> å…¨å±€ map ä¸­ï¼Œå†æŠŠ <strong>FScriptDelegate</strong> æ·»åŠ åˆ° <strong>FMulticastScriptDelegate</strong> å®¹å™¨å†…ã€‚</p><blockquote><p>æ³¨æ„ï¼š<strong>DelegateOwner</strong> åªæ˜¯æŒæœ‰<strong>æ“ä½œ</strong> FMulticastScriptDelegate çš„ <strong>TSparseDynamicDelegate</strong> å¯¹è±¡ï¼Œ<strong>FSparseDelegateStorage</strong> æ‰è´Ÿè´£å­˜å‚¨ FMulticastScriptDelegate å’Œæ‰€æœ‰æ³¨å†Œçš„ FScriptDelegateï¼›<strong>DelegateOwner</strong> é€šè¿‡ <strong>TSparseDynamicDelegate</strong> å¯¹ <strong>FSparseDelegateStorage</strong> ä¸­çš„æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚</p></blockquote><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// æ·»åŠ </span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">bool</span> <span class="token class-name">FSparseDelegateStorage</span><span class="token operator">::</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">const</span> UObject<span class="token operator">*</span> DelegateOwner<span class="token punctuation">,</span> <span class="token keyword">const</span> FName DelegateName<span class="token punctuation">,</span> FScriptDelegate Delegate<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">bool</span> bDelegateWasBound <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>Delegate<span class="token punctuation">.</span><span class="token function">IsBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		FScopeLock <span class="token function">SparseDelegateMapLock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>SparseDelegateMapCritical<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>SparseDelegates<span class="token punctuation">.</span><span class="token function">Num</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>			SparseDelegateObjectListener<span class="token punctuation">.</span><span class="token function">EnableListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>		FSparseDelegateMap<span class="token operator">&amp;</span> DelegateMap <span class="token operator">=</span> SparseDelegates<span class="token punctuation">.</span><span class="token function">FindOrAdd</span><span class="token punctuation">(</span>DelegateOwner<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		TSharedPtr<span class="token operator">&lt;</span>FMulticastScriptDelegate<span class="token operator">></span><span class="token operator">&amp;</span> MulticastDelegate <span class="token operator">=</span> DelegateMap<span class="token punctuation">.</span><span class="token function">FindOrAdd</span><span class="token punctuation">(</span>DelegateName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>MulticastDelegate<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			MulticastDelegate <span class="token operator">=</span> MakeShared<span class="token operator">&lt;</span>FMulticastScriptDelegate<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token comment">// å®é™…æ“ä½œçš„æ˜¯ FSparseDelegateStorage ä¸­åˆ›å»º or å·²å­˜åœ¨çš„ FMulticastScriptDelegate</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		MulticastDelegate<span class="token operator">-></span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token function">MoveTemp</span><span class="token punctuation">(</span>Delegate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		bDelegateWasBound <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">return</span> bDelegateWasBound<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// æŸ¥è¯¢</span></pre></td></tr><tr><td data-num="28"></td><td><pre>TSharedPtr<span class="token operator">&lt;</span>FMulticastScriptDelegate<span class="token operator">></span> <span class="token class-name">FSparseDelegateStorage</span><span class="token operator">::</span><span class="token function">GetSharedMulticastDelegate</span><span class="token punctuation">(</span><span class="token keyword">const</span> UObject<span class="token operator">*</span> DelegateOwner<span class="token punctuation">,</span> <span class="token keyword">const</span> FName DelegateName<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	FScopeLock <span class="token function">SparseDelegateMapLock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>SparseDelegateMapCritical<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>	TSharedPtr<span class="token operator">&lt;</span>FMulticastScriptDelegate<span class="token operator">></span> Result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>FSparseDelegateMap<span class="token operator">*</span> DelegateMap <span class="token operator">=</span> SparseDelegates<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span>DelegateOwner<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>TSharedPtr<span class="token operator">&lt;</span>FMulticastScriptDelegate<span class="token operator">></span><span class="token operator">*</span> MulticastDelegatePtr <span class="token operator">=</span> DelegateMap<span class="token operator">-></span><span class="token function">Find</span><span class="token punctuation">(</span>DelegateName<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			Result <span class="token operator">=</span> <span class="token operator">*</span>MulticastDelegatePtr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">return</span> Result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a class="anchor" href="#æ€»ç»“">#</a> æ€»ç»“</h2><p>Unreal æä¾›äº†å¤šç§å§”æ‰˜ï¼Œå…¶ä¸­ã€ŒDelegate ã€ç”¨æ³•çµæ´»ï¼Œæ”¯æŒå„ç§ç±»å‹çš„å‡½æ•°ç»‘å®šï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿè¾ƒ<strong>é«˜</strong>ï¼Œå¯¹äºæœ‰è¿”å›å€¼çš„å‡½æ•°è°ƒç”¨æ—¶<strong>ä¸å¤ªå®‰å…¨</strong>ï¼›ã€ŒMulticaseDelegate ã€åœ¨åŸæœ‰åŸºç¡€ä¸Šæ‰©å……äº†ä¸€å¯¹å¤šçš„ç»‘å®šå…³ç³»ï¼›ã€ŒEvent ã€åˆåœ¨ MulticaseDelegate çš„åŸºç¡€ä¸Šé€šè¿‡ <code>friend class</code> çº¦æŸäº†è°ƒç”¨è€…ï¼›ã€ŒDynamicDelegate ã€ç›¸æ¯”äº Delegateï¼Œèˆå¼ƒäº†æ›´å¤šå‡½æ•°ç±»å‹çš„æ”¯æŒï¼Œé™ä½äº†æ‰§è¡Œæ•ˆç‡ï¼Œä½†èƒ½å¤ŸåŠ¨æ€ç»‘å®šä¸”è°ƒç”¨æ›´åŠ çš„<strong>å®‰å…¨</strong>ï¼›ã€ŒDynamicMulticaseDelegate ã€åŒæ ·åœ¨åŸæœ‰åŸºç¡€ä¸Šæ‰©å……äº†ä¸€å¯¹å¤šçš„ç»‘å®šå…³ç³»ï¼›ã€ŒSparseDynamicDelegateã€åˆåœ¨ DynamicMulticaseDelegate åŸºç¡€ä¸Šé‡å®šå‘äº†å§”æ‰˜çš„å­˜å‚¨ä½ç½®ï¼Œé€šè¿‡ FSparseDelegateStorage å…¨å±€ map é›†ä¸­ç®¡ç†ã€‚</p><div class="tags"><a href="/tags/UE/" rel="tag"><i class="ic i-tag"></i> UE</a> <a href="/tags/Delegate/" rel="tag"><i class="ic i-tag"></i> Delegate</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-12-29 09:36:04" itemprop="dateModified" datetime="2022-12-29T09:36:04+08:00">2022-12-29</time> </span><span id="learning/unreal/UE Delegate/" class="item leancloud_visitors" data-flag-title="UE Delegate" title="é˜…è¯»æ¬¡æ•°"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">é˜…è¯»æ¬¡æ•°</span> <span class="leancloud-visitors-count"></span> <span class="text">æ¬¡</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> å……ç”µ</button><p>è¯·æˆ‘[æ°é¥­]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="é‘«é…±(â—'â—¡'â—) å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="é‘«é…±(â—'â—¡'â—) æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>é‘«é…±(â—'â—¡'â—) <i class="ic i-at"><em>@</em></i>é‘«é…±</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://hakuya.me/learning/unreal/UE%20Delegate/" title="UE Delegate">https://hakuya.me/learning/unreal/UE Delegate/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/learning/unreal/UE%20VirtualMachine/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;wallpaper-1255596461.cos.ap-nanjing.myqcloud.com&#x2F;wallpaper (22).jpg" title="UE VirtualMachine"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> UE</span><h3>UE VirtualMachine</h3></a></div><div class="item right"><a href="/learning/unreal/UE%20%E8%B5%84%E4%BA%A7%E5%AF%BC%E5%87%BA%E5%92%8C%E5%8A%A0%E8%BD%BD/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;wallpaper-1255596461.cos.ap-nanjing.myqcloud.com&#x2F;wallpaper_4.jpg" title="UE èµ„äº§å¯¼å‡ºå’ŒåŠ è½½"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> UE</span><h3>UE èµ„äº§å¯¼å‡ºå’ŒåŠ è½½</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#delegate-%E5%A7%94%E6%89%98"><span class="toc-number">1.</span> <span class="toc-text">Delegate å§”æ‰˜</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#delegate-%E7%AE%80%E5%8D%95%E5%A7%94%E6%89%98"><span class="toc-number">1.1.</span> <span class="toc-text">Delegate ç®€å•å§”æ‰˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tdelegate"><span class="toc-number">1.1.1.</span> <span class="toc-text">TDelegate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delegate-instance"><span class="toc-number">1.1.2.</span> <span class="toc-text">Delegate Instance</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#delegate-instance-%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">Delegate Instance å®ä¾‹åŒ–</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#multicasedelegate-%E5%A4%9A%E6%92%AD%E5%A7%94%E6%89%98"><span class="toc-number">1.2.</span> <span class="toc-text">MulticaseDelegate å¤šæ’­å§”æ‰˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tmulticastdelegate"><span class="toc-number">1.2.1.</span> <span class="toc-text">TMulticastDelegate</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#event-%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">Event äº‹ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dynamicdelegate-%E5%8A%A8%E6%80%81%E5%A7%94%E6%89%98"><span class="toc-number">1.4.</span> <span class="toc-text">DynamicDelegate åŠ¨æ€å§”æ‰˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tscriptdelegate"><span class="toc-number">1.4.1.</span> <span class="toc-text">TScriptDelegate</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dynamicmulticasedelegate-%E5%8A%A8%E6%80%81%E5%A4%9A%E6%92%AD%E5%A7%94%E6%89%98"><span class="toc-number">1.5.</span> <span class="toc-text">DynamicMulticaseDelegate åŠ¨æ€å¤šæ’­å§”æ‰˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tmulticastscriptdelegate"><span class="toc-number">1.5.1.</span> <span class="toc-text">TMulticastScriptDelegate</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sparsedynamicdelegate-%E7%A8%80%E7%96%8F%E5%8A%A8%E6%80%81%E5%A7%94%E6%89%98"><span class="toc-number">1.6.</span> <span class="toc-text">SparseDynamicDelegate ç¨€ç–åŠ¨æ€å§”æ‰˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#fsparsedelegatestorage"><span class="toc-number">1.6.1.</span> <span class="toc-text">FSparseDelegateStorage</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.7.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/learning/unreal/UE%20%E5%9F%BA%E7%A1%80%E7%AF%87/" rel="bookmark" title="UE åŸºç¡€ç¯‡">UE åŸºç¡€ç¯‡</a></li><li><a href="/learning/unreal/UE%20%E8%93%9D%E5%9B%BE%E7%AF%87/" rel="bookmark" title="UE è“å›¾ç¯‡">UE è“å›¾ç¯‡</a></li><li class="active"><a href="/learning/unreal/UE%20Delegate/" rel="bookmark" title="UE Delegate">UE Delegate</a></li><li><a href="/learning/unreal/UE%20VirtualMachine/" rel="bookmark" title="UE VirtualMachine">UE VirtualMachine</a></li><li><a href="/learning/unreal/UE%20%E8%B5%84%E4%BA%A7%E5%AF%BC%E5%87%BA%E5%92%8C%E5%8A%A0%E8%BD%BD/" rel="bookmark" title="UE èµ„äº§å¯¼å‡ºå’ŒåŠ è½½">UE èµ„äº§å¯¼å‡ºå’ŒåŠ è½½</a></li><li><a href="/learning/unreal/Unreal%20%E6%8F%A1%E6%89%8B%E6%B5%81%E7%A8%8B/" rel="bookmark" title="Unreal æ¡æ‰‹æµç¨‹">Unreal æ¡æ‰‹æµç¨‹</a></li><li><a href="/learning/unreal/Unreal%20RPC/" rel="bookmark" title="Unreal RPC">Unreal RPC</a></li><li><a href="/learning/unreal/Unreal%20Replication%20%E7%AF%87/" rel="bookmark" title="Unreal ReplicationGraph ç¯‡">Unreal ReplicationGraph ç¯‡</a></li><li><a href="/learning/unreal/Unreal%20Chaos%20%E5%AF%BC%E5%87%BA%E4%B8%BA%20PhysX%20%E7%89%A9%E7%90%86%E6%96%87%E4%BB%B6/" rel="bookmark" title="Unreal Chaos å¯¼å‡ºä¸º PhysX ç‰©ç†æ–‡ä»¶">Unreal Chaos å¯¼å‡ºä¸º PhysX ç‰©ç†æ–‡ä»¶</a></li><li><a href="/learning/unreal/Unreal%20Iris%EF%BC%88%E4%B8%80%EF%BC%89%E6%A6%82%E8%BF%B0/" rel="bookmark" title="Unreal Irisï¼ˆä¸€ï¼‰æ¦‚è¿°">Unreal Irisï¼ˆä¸€ï¼‰æ¦‚è¿°</a></li><li><a href="/learning/unreal/Unreal%20Iris%EF%BC%88%E4%BA%8C%EF%BC%89ReplicationState/" rel="bookmark" title="Unreal Irisï¼ˆäºŒï¼‰ReplicationState">Unreal Irisï¼ˆäºŒï¼‰ReplicationState</a></li><li><a href="/learning/unreal/Unreal%20Iris%EF%BC%88%E4%B8%89%EF%BC%89Filtering%20&&%20Prioritization/" rel="bookmark" title="Unreal Irisï¼ˆä¸‰ï¼‰Filtering && Prioritization">Unreal Irisï¼ˆä¸‰ï¼‰Filtering && Prioritization</a></li><li><a href="/learning/unreal/Unreal%20Iris%EF%BC%88%E5%9B%9B%EF%BC%89DataStream/" rel="bookmark" title="Unreal Irisï¼ˆå››ï¼‰DataStream">Unreal Irisï¼ˆå››ï¼‰DataStream</a></li><li><a href="/learning/unreal/Unreal%20Iris%EF%BC%88%E4%BA%94%EF%BC%89BaseLine%20&&%20DeltaCompression/" rel="bookmark" title="Unreal Irisï¼ˆäº”ï¼‰BaseLine && DeltaCompression">Unreal Irisï¼ˆäº”ï¼‰BaseLine && DeltaCompression</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="é‘«é…±(â—'â—¡'â—)" data-src="/images/avatar.jpg"><p class="name" itemprop="name">é‘«é…±(â—'â—¡'â—)</p><div class="description" itemprop="description">æ•´å¤©æ‘¸é±¼ï¼Œå´å¦„æƒ³æ‹¯æ•‘ä¸–ç•Œçš„æŠ€æœ¯å®…</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">110</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">25</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">67</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FsbGVuR1g=" title="https:&#x2F;&#x2F;github.com&#x2F;AllenGX"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTgwNTM4MjQy" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;80538242"><i class="ic i-cloud-music"></i></span> <span class="exturl item email" data-url="bWFpbHRvOjE0MTM5MDcxNTNAcXEuY29t" title="mailto:1413907153@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å¥½å‹</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>ç½‘å€</a></li><li class="item"><a href="/travellings/" rel="section"><i class="ic i-paper-plane"></i>ä¼ é€é—¨</a></li><li class="item"><a href="/mikutap/" rel="section"><i class="ic i-star"></i>Mikutap</a></li><li class="item"><a href="/restart/" rel="section"><i class="ic i-sun"></i>RestartLife</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/learning/unreal/UE%20VirtualMachine/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/learning/unreal/UE%20%E8%B5%84%E4%BA%A7%E5%AF%BC%E5%87%BA%E5%92%8C%E5%8A%A0%E8%BD%BD/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B9%B4%E6%8A%A5/" title="åˆ†ç±»äº å¹´æŠ¥">å¹´æŠ¥</a></div><span><a href="/annals/2023%E5%B9%B4%E6%8A%A5/" title="2023å¹´æŠ¥">2023å¹´æŠ¥</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/games/" title="åˆ†ç±»äº Gamesç³»åˆ—">Gamesç³»åˆ—</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/games/Game101/" title="åˆ†ç±»äº Games101å›¾å½¢æ¸²æŸ“">Games101å›¾å½¢æ¸²æŸ“</a></div><span><a href="/learning/games/Game101/%E5%8D%81%E4%B9%9D%E3%80%81Advanced%20Topics%20in%20Rendering%E2%80%94%E2%80%94Light%20Transport/" title="åä¹ã€Advanced Topics in Renderingâ€”â€”Light Transport">åä¹ã€Advanced Topics in Renderingâ€”â€”Light Transport</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/unreal/" title="åˆ†ç±»äº UE">UE</a></div><span><a href="/learning/unreal/UE%20%E5%9F%BA%E7%A1%80%E7%AF%87/" title="UE åŸºç¡€ç¯‡">UE åŸºç¡€ç¯‡</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/physx/" title="åˆ†ç±»äº ç‰©ç†å¼•æ“">ç‰©ç†å¼•æ“</a></div><span><a href="/learning/physx/PhysX%E5%86%85%E7%BD%AE%E5%AE%B9%E5%99%A8%E4%BB%8B%E7%BB%8D/" title="PhysXå†…ç½®å®¹å™¨ä»‹ç»">PhysXå†…ç½®å®¹å™¨ä»‹ç»</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/recastnavigation/" title="åˆ†ç±»äº å¯¼èˆªç½‘æ ¼">å¯¼èˆªç½‘æ ¼</a></div><span><a href="/learning/recastnavigation/Recast%20Navigation/" title="Recast Navigation">Recast Navigation</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/" title="åˆ†ç±»äº ç¼–ç¨‹è¯­è¨€">ç¼–ç¨‹è¯­è¨€</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/cpp/" title="åˆ†ç±»äº cpp">cpp</a></div><span><a href="/learning/programlanguage/cpp/%E5%8D%81%E3%80%81%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/" title="åã€å¯¹è±¡å’Œç±»">åã€å¯¹è±¡å’Œç±»</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/unreal/" title="åˆ†ç±»äº UE">UE</a></div><span><a href="/learning/unreal/Unreal%20Chaos%20%E5%AF%BC%E5%87%BA%E4%B8%BA%20PhysX%20%E7%89%A9%E7%90%86%E6%96%87%E4%BB%B6/" title="Unreal Chaos å¯¼å‡ºä¸º PhysX ç‰©ç†æ–‡ä»¶">Unreal Chaos å¯¼å‡ºä¸º PhysX ç‰©ç†æ–‡ä»¶</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/physx/" title="åˆ†ç±»äº ç‰©ç†å¼•æ“">ç‰©ç†å¼•æ“</a></div><span><a href="/learning/physx/%E3%80%8CScene%20Queries%E3%80%8DAABBTree%E2%80%94%E2%80%94%E4%B8%8B/" title="ã€ŒScene Queriesã€AABBTreeâ€”â€”ä¸‹">ã€ŒScene Queriesã€AABBTreeâ€”â€”ä¸‹</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/games/" title="åˆ†ç±»äº Gamesç³»åˆ—">Gamesç³»åˆ—</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/games/Game101/" title="åˆ†ç±»äº Games101å›¾å½¢æ¸²æŸ“">Games101å›¾å½¢æ¸²æŸ“</a></div><span><a href="/learning/games/Game101/%E5%85%AD%E3%80%81Rasterization%EF%BC%88%E4%B8%8B%EF%BC%89%E2%80%94%E2%80%94Depth%20buffer/" title="å…­ã€Rasterizationï¼ˆä¸‹ï¼‰â€”â€”Z-Buffering">å…­ã€Rasterizationï¼ˆä¸‹ï¼‰â€”â€”Z-Buffering</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="åˆ†ç±»äº å­¦ä¹ ">å­¦ä¹ </a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/" title="åˆ†ç±»äº ç¼–ç¨‹è¯­è¨€">ç¼–ç¨‹è¯­è¨€</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/cpp/" title="åˆ†ç±»äº cpp">cpp</a></div><span><a href="/learning/programlanguage/cpp/%E6%9D%82%E9%A1%B9/" title="æ‚é¡¹">æ‚é¡¹</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">é‘«é…±(â—'â—¡'â—) @ ä¸ªäººåšå®¢</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">639k å­—</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">9:41</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"learning/unreal/UE Delegate/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,copy_tex:!0,katex:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/animejs@3.2.0/lib/anime.min.js,npm/katex@0.12.0/dist/contrib/copy-tex.min.js,npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/quicklink@2/dist/quicklink.umd.js,gh/amehime/MiniValine@4.2.2-beta10/dist/MiniValine.min.js"></script><script src="/js/app.js?v=0.2.5"></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b6d809b500bd6f0040117088899bc7bf";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>