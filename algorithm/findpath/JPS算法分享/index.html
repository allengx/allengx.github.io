<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="XqWEZ-KjvQT4IfXzxYvH-PEc--_zN6GqthY2jBsqOs4"><meta name="msvalidate.01" content="4E28E3FDD5912EBBB84869B17359650D"><meta name="baidu-site-verification" content="code-dwpSTDBLS2"><link rel="alternate" type="application/rss+xml" title="鑫酱" href="https://hakuya.me/rss.xml"><link rel="alternate" type="application/atom+xml" title="鑫酱" href="https://hakuya.me/atom.xml"><link rel="alternate" type="application/json" title="鑫酱" href="https://hakuya.me/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="jps"><link rel="canonical" href="https://hakuya.me/algorithm/findpath/JPS%E7%AE%97%E6%B3%95%E5%88%86%E4%BA%AB/"><title>JPS算法分享 - 寻路 - 算法 | 个人博客 = 鑫酱 = 笔记本</title><meta name="generator" content="Hexo 6.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">JPS算法分享</h1><div class="meta"><span class="item" title="创建时间：2021-05-14 16:25:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-05-14T16:25:00+08:00">2021-05-14</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>5.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>5 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">个人博客</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (12).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (9).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (7).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (14).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (19).jpg"></li><li class="item" data-background-image="https://wallpaper-1255596461.cos.ap-nanjing.myqcloud.com/wallpaper (16).jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/algorithm/" itemprop="item" rel="index" title="分类于 算法"><span itemprop="name">算法</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/algorithm/findpath/" itemprop="item" rel="index" title="分类于 寻路"><span itemprop="name">寻路</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://hakuya.me/algorithm/findpath/JPS%E7%AE%97%E6%B3%95%E5%88%86%E4%BA%AB/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="鑫酱(●'◡'●)"><meta itemprop="description" content="笔记本, 整天摸鱼，却妄想拯救世界的技术宅"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="鑫酱"></span><div class="body md" itemprop="articleBody"><div class="note info"><p>以下为个人学习笔记整理。组内分享文档</p></div><h1 id="jps算法分享"><a class="anchor" href="#jps算法分享">#</a> JPS 算法分享</h1><h2 id="介绍"><a class="anchor" href="#介绍">#</a> 介绍</h2><p><code>JPS</code> 又名跳点搜索算法（Jump Point Search），是由澳大利亚两位教授于 2011 年提出的基于 Grid 格子的寻路算法。 <code>JPS</code> 算法在保留 <code>A*</code> 算法的框架的同时，进一步优化了 <code>A*</code> 算法寻找后继节点的操作。</p><h2 id="a算法"><a class="anchor" href="#a算法">#</a> A * 算法</h2><p>由于 <code>JPS</code> 的实现是基于 <code>A*</code> 算法的基础上完成的。因此，让我们简单回顾一下 <code>A*</code> 算法：</p><h3 id="算法核心"><a class="anchor" href="#算法核心">#</a> 算法核心</h3><h4 id="数据结构"><a class="anchor" href="#数据结构">#</a> 数据结构</h4><ul><li><code>open_map</code> ：待遍历字典，存储需要遍历的节点。</li><li><code>close_map</code> ：已遍历字典，存储已经遍历过的节点。</li><li><code>p_queue</code> ：优先队列，底层实现二叉堆。</li><li><code>point</code> ：节点，存储内容：<ul><li>距离终点距离 <code>h(n)</code></li><li>距离起点距离 <code>g(n)</code></li><li>父节点。</li></ul></li></ul><h4 id="算法过程"><a class="anchor" href="#算法过程">#</a> 算法过程</h4><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>起点加入 open_map</pre></td></tr><tr><td data-num="2"></td><td><pre>起点加入 p_queue</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">while</span> p_queue 不为空：</pre></td></tr><tr><td data-num="4"></td><td><pre>    弹出优先级最高的节点</pre></td></tr><tr><td data-num="5"></td><td><pre>    把周围八个节点加入待遍历节点</pre></td></tr><tr><td data-num="6"></td><td><pre>        已经存在于 open_map 的节点更新距离和父节点信息</pre></td></tr><tr><td data-num="7"></td><td><pre>        已经存在于 close_map 跳过</pre></td></tr><tr><td data-num="8"></td><td><pre>        遇到终点终止循环</pre></td></tr></table></figure><h4 id="优先级比较"><a class="anchor" href="#优先级比较">#</a> 优先级比较</h4><p>优先级比较遵循以下公式</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>+</mo><mi>h</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n) = g(n) + h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.03588em">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><p>即：起点到该节点的距离 + 该点到终点距离和最小的节点优先级最高。</p><p>由于估计函数 <code>h(n)</code> 有很多种，展开讲将会耗费较大篇幅，本文主要以「 欧几里得距离（两点直线距离）」作为 <code>h(n)</code> 和 <code>g(n)</code> 的计算基础</p><h4 id="其他前提条件"><a class="anchor" href="#其他前提条件">#</a> 其他前提条件</h4><p>方便后续测试统一，地图大小采用 20 x 20 的方格。<br>运动路径支持「斜线」和「直线」，可能会导致穿墙。</p><h4 id="其他描述"><a class="anchor" href="#其他描述">#</a> 其他描述</h4><ul><li>障碍物用「蓝色」表示</li><li>可行走点用「灰色」表示</li><li>起点用「绿色」表示</li><li>终点用「红色」表示</li><li>曾经加入 <code>open_map</code> 的节点用「深蓝色」表示</li><li><code>close_map</code> 的节点用「黄色」表示</li><li>最终路线用「黑色」表示</li></ul><p>下图为 <code>A*</code> 算法所得到的寻路图<br><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210513212912.gif" alt="a_star"></p><h2 id="jps-算法"><a class="anchor" href="#jps-算法">#</a> JPS 算法</h2><p>介绍完 <code>A*</code> 算法，接下来就要讲讲本期的「主角」—— <code>JPS</code> 算法。</p><h3 id="基本概念"><a class="anchor" href="#基本概念">#</a> 基本概念</h3><p><code>JPS</code> 算法是基于 <code>A*</code> 算法实现的基于「跳点」的快速寻路算法，因此在 <code>A*</code> 算法的基础上引入了以下几个规则：</p><ul><li>强迫邻居（Forced Neighbour）</li><li>跳点（Jump Point）</li></ul><h3 id="引言"><a class="anchor" href="#引言">#</a> 引言</h3><p>在介绍这两个规则之前，先简单说明以下 JPS 算法的搜索规则：<br>JPS 的查询不像 A* 一样，每次查找周围 8 个节点，而是引入了两个概念：</p><ul><li>进入方向（enter_d）</li><li>查询方向（find_d）</li></ul><blockquote><p>这里只简单的介绍以下，在后续进行详细讲解</p></blockquote><p>JPS 算法的起点查询时会想周围的 8 个方向进行延展，其中的查询可分为两种</p><ul><li>直线查询</li><li>斜线查询</li></ul><h4 id="直线查询"><a class="anchor" href="#直线查询">#</a> 直线查询</h4><p>如果从父节点到当前点的方向是直线，那么该点后续的查询方向只能是直线</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522182958.png" alt="image-20210522182956620"></p><p>原因也很简单：如果「父节点」可以不通过「当前点」到达红色方格且耗费的路程不会更多，那么就不会选择经过「当前点」到的红色方格，</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183021.png" alt="image-20210522183020301"></p><h4 id="斜线查询"><a class="anchor" href="#斜线查询">#</a> 斜线查询</h4><p>如果从父节点到当前点的方向是斜线，那么该点后续的查询方向可以是该方向和其水平 + 垂直方向。</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183042.png" alt="image-20210522183039776"></p><p>原因和上面的直线查询类似</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183104.png" alt="image-20210522183102592"></p><blockquote><p>但凡是都有例外，这个例外，我们下面再聊～</p></blockquote><h4 id="强迫邻居"><a class="anchor" href="#强迫邻居">#</a> 强迫邻居</h4><p>接着上面的查询，让我们再来聊聊这里的例外：<br>强迫邻居的定义：节点 x 的 8 个邻居中有障碍，且 x 的父节点 p 经过 x 到达 n 的距离代价比不经过 x 到达的 n 的任意路径的距离代价小，则称 n 是 x 的强迫邻居<br>简单理解可以用两张图来表示：</p><blockquote><p>eg1：假设「起点」到「终点」是直线运动（↑↓←→）。那么强迫邻居有且只能有如下情况：</p></blockquote><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210430162508.png" alt="image-20210430162506799"></p><blockquote><p>eg2：假设「起点」到「终点」是斜线运动（↖↙↗↘）。那么被迫邻居有且只能有如下情况：</p></blockquote><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210430162818.png" alt="image-20210430162815549"></p><p>该情况下，由于阻碍物的存在，使得之前的红色格子变成了「最优的路径」，导致其成为「强迫邻居」<br>那么强迫邻居的意义何在呢，我们接下来再揭晓～</p><h4 id="跳点"><a class="anchor" href="#跳点">#</a> 跳点</h4><p>同样，跳点也有如下定义：</p><ul><li>是「起点」或者「终点」</li><li>或者周围 8 格内有「强迫邻居」</li></ul><p>是的，「强迫邻居」可以用来确定一个点是否为跳点，但这并非其全部左右，预知后续如何，请往下看～</p><h5 id="间接跳点"><a class="anchor" href="#间接跳点">#</a> 间接跳点</h5><p>以上两个定义满足其一，便可以确定一个点是跳点，除此以外，还有一个比较有趣的定义：<br>如果该点的进入方向是斜向的。那么沿着它的进入方向的 「水平」和「垂直」 分量进行搜索，并且不遇到障碍物之前能够检索到跳点，那么该点便是「间接跳点」。<br>间接跳点的作用也很简单，为了能够让地图上的跳点之前能够互相「连通」，所引入的中转站。</p><blockquote><p>至此， <code>JPS</code> 算法的基本概念就算是介绍完毕了，下面将开始讲解其算法过程</p></blockquote><h3 id="算法过程-2"><a class="anchor" href="#算法过程-2">#</a> 算法过程</h3><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>起点加入 open_map</pre></td></tr><tr><td data-num="2"></td><td><pre>起点加入 p_queue</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">while</span> p_queue 不为空：</pre></td></tr><tr><td data-num="4"></td><td><pre>    弹出优先级最高的节点</pre></td></tr><tr><td data-num="5"></td><td><pre>    查询该点的后续所有跳点</pre></td></tr><tr><td data-num="6"></td><td><pre>        如果已经在 open_map 中，更新父节点和距离</pre></td></tr><tr><td data-num="7"></td><td><pre>        如果在 close_map 中，跳过</pre></td></tr><tr><td data-num="8"></td><td><pre>        否则直接加入 open_map</pre></td></tr><tr><td data-num="9"></td><td><pre>        遇到终点终止循环</pre></td></tr></table></figure><h4 id="核心思想"><a class="anchor" href="#核心思想">#</a> 核心思想</h4><p>该算法的核心就在于「查询方向」和「查询规则」，这两点也是大部分 <code>JPS</code> 变种算法的核心。</p><h5 id="查询方向"><a class="anchor" href="#查询方向">#</a> 查询方向</h5><p><code>JPS</code> 算法中之前就提到过两个方向： <code>enter_d</code> , <code>find_d</code></p><p>其中 <code>enter_d</code> 方向会决定一个点是否是「跳点」。因为进入方向会决定其周围是否有「强迫邻居」<br>此外 <code>find_d</code> 也会影响一个点是否是「间接跳点」。因为查询方向上如果存在「跳点」，那么该点也是「跳点」</p><p><code>enter_d</code> 很好理解，就是父节点移动到当前节点的方向。但是 <code>find_d</code> 如何确定呢？<br>这里又不得不提到之前讨论过的「强迫邻居」的作用。是的，「强迫邻居」可以影响查询方向。<br>那么事不宜迟，来看看「强迫邻居」是如何影响 <code>find_d</code> 的吧～</p><p>上文我们已经提到了两种不同形式的「强迫邻居」，而他们对于 <code>find_d</code> 的影响如下图：</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183144.png" alt="image-20210522183142714"></p><p>「起点」 -&gt; 「终点」后，「终点」附近存在「强迫邻居」，「强迫邻居」便会引导终点的查询。<br>论文中使用了较长的篇幅来讲解这样引导后的结果会趋于最优，有兴趣的小伙伴可以看看论文，这里就不做证明。<br>不过还一个纯个人的理解：<br>通过跳点进行「延展」，这样才能在保证能够全面的查询到所有点。</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183200.png" alt="image-20210522183159785"></p><p>题外话就到此，现在～接着 <code>find_d</code> ，继续说明「查询规则」</p><h5 id="查询规则"><a class="anchor" href="#查询规则">#</a> 查询规则</h5><p>由于「起点」本身是没有 <code>enter_d</code> 的，所以其查询方向将会是「四面八方」<br>其他节点由于有 <code>enter_d</code> ，因此可以通过 <code>enter_d</code> 和「强迫邻居」方向来确定「查询方向」</p><p>接着就是沿着该方向进行查询了～</p><p>上文之前有简单提及查询规则「直线查询」和「斜线查询」。<br>此外 <code>JPS</code> 查询还遵循以下规则：</p><ul><li><mark>直线优于斜线</mark>，即：先进行直线的查询，在对斜线进行查询</li><li>在没有遇到障碍物的情况下，查询不会终止。</li></ul><p>因此，基于以上规则，可以画出一个简单的查询示意图：</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183217.png" alt="image-20210522183216725"></p><h4 id="梳理思路"><a class="anchor" href="#梳理思路">#</a> 梳理思路</h4><p>经过以上说明，让我们简单整理以下思绪：</p><ul><li>首先，从起点开始进行「四面八方」查询。<ul><li>通过 <code>enter_d</code> 可以判断一个点周围有没有「强迫邻居」</li><li>如果该点的进入方向是斜线，还需要查看水平和垂直分量上是否有「跳点」</li><li>把过程中搜索到的的跳点会加入 <code>open_map</code> 。</li><li>跳点的 <code>enter_d</code> 会修改后续的 <code>find_d</code> ，并继续查询，这一步是递归的。</li><li>遇到障碍物停止查询。</li></ul></li></ul><p>至此，完整的查询步骤就介绍完了，接下来，让我们看看查询的结果图吧</p><h3 id="jps寻路图"><a class="anchor" href="#jps寻路图">#</a> JPS 寻路图</h3><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210513201849.gif" alt="jps"></p><p>以为这就完了，我们的征途可是是星辰大海！~</p><h2 id="jps算法"><a class="anchor" href="#jps算法">#</a> JPS + 算法</h2><p><code>JPS+</code> 是基于 <code>JPS</code> 进行的预处理改良版本，该版本的预处理操作可以极大提高程序运行过程中，查询跳点的消耗。<br>事不宜迟，让我们接着往下看：</p><h3 id="前言"><a class="anchor" href="#前言">#</a> 前言</h3><p>由于这部分的论文介绍较少，且和本文的实现有些出入，以下仅供参考，有些不对的地方还请见谅。</p><h3 id="核心思想-2"><a class="anchor" href="#核心思想-2">#</a> 核心思想</h3><p>由于查询跳点的操作是依赖于 <code>enter_d</code> 的。换句话说：如果能够存储 8 个方位的每种情况，理论上，是不需要在运行时的去动态判断跳点的。<br>那么如果可以获取到所有跳点，并把每个点移动到下一个跳点的距离记录下来，就可以干掉运行过程中的查询开销。</p><h4 id="跳点预处理"><a class="anchor" href="#跳点预处理">#</a> 跳点预处理</h4><p>所以可以对地图上每个点的八个进入方向进行跳点判断，并把能够视为跳点的进入方向记录下来，就像这样：</p><p>紫色的方块都表示跳点，白色箭头表示的是特定的 <code>enter_d</code> 。<br>这里把从障碍物移动到目标点的方向给忽略了，因为这些方向是不可能到的目标点的，所以这些 <code>enter_d</code> 也是不存在的。</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183604.png" alt="image-20210522183603182"></p><p>有了 <code>enter_d</code> ，那么 <code>find_d</code> 的标识岂不信手拈来～<br>这里没有对 <code>find_d</code> 的方向进行可行性判断，因为在后续的查询中中断，但是会有一定的性能影响。</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183552.png" alt="image-20210522183551349"></p><h4 id="间接跳点预处理"><a class="anchor" href="#间接跳点预处理">#</a> 间接跳点预处理</h4><p>由于除了进入方向可以确定跳点，以下两种情况下也能确定跳点。因此还需要找出间接的跳点！！！</p><ul><li>起点、终点</li><li>斜向查询的水平垂直方向存在跳点</li></ul><p>处理方法和 <code>JPS</code> 的查询方式比较类似，这里就不过多介绍，处理完成后的结果图：</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183503.png" alt="image-20210522183502461"></p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183520.png" alt="image-20210522183518904"></p><h4 id="标识距离"><a class="anchor" href="#标识距离">#</a> 标识距离</h4><p>在获得了所有的跳点（起点终点后续再说～），接下来就是处理每个点的距离标识了。<br>这里我们对每个跳点的 <code>end_d</code> 进行反向查询，这里的斜向插叙不需要拆分，直接斜着查询即可<br>查询过程中，记录下每个点距离跳点的距离和方向，如果中途遇到了其他跳点，更新它们的距离并停止查询。</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183247.png" alt="image-20210522183246713"></p><p>此外，为了能够搜索到边界，需要记录每个格子到阻碍物的距离，从 0 到 负无穷进行记录。大致效果如下：</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183307.png" alt="image-20210522183305990"></p><p>经过一番预处理，我们的地图现在长这样了：<br>由于 0 太多了，所以距离为 0 的方向就没有标明出来了～</p><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210522183417.png" alt="image-20210522183416616"></p><h3 id="算法流程"><a class="anchor" href="#算法流程">#</a> 算法流程</h3><p>一切准备工作都已就绪，现在！是时候开始寻路了～<br>由于我们已经知道了所有的点到边界和下一个跳点的距离。所以查询可以替换一下：</p><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">-</span> 起点加入 open_map 和优先队列</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">-</span> 从优先队列弹出一个优先级最高的节点</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">-</span> 查看该点的 <span class="token number">8</span> 个方向缓存的数据。</pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token operator">-</span> 如果距离 <span class="token operator">></span> <span class="token number">0</span>，那么直接把该距离处的点加入 open_map</pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token operator">-</span> 如果距离 <span class="token operator">&lt;</span> <span class="token number">0</span>，对那个点进行一次跳点判断，如果是跳点，加入 open_map</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">-</span> 遇到终点循环终止</pre></td></tr></table></figure><p>这下，整个算法中最复杂的地方「查询跳点」就被干掉了，这将大大提高运行效率，因为「查询跳点」本身是递归的～</p><h3 id="jps-寻路图"><a class="anchor" href="#jps-寻路图">#</a> JPS+ 寻路图</h3><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210513213028.gif" alt="jps_plus"></p><h3 id="起点和终点"><a class="anchor" href="#起点和终点">#</a> 起点和终点</h3><p>笔者对于「起点」和「终点」做了一些思考。由于这两个点也是「跳点」，所以按理也需要在预处理过程中更新地图的缓存距离。<br>但是缓存数据本身就是固定的，每次设置不同的起点和终点，都要修改缓存数据并且还原，这种方式确实不够高效。<br>单独存储一个额外数据用于起点和终点的特殊处理也不失为一个办法。<br>但是目前还没有找到最为合适的解决办法，也算是一个思维扩展吧，其他小伙伴可以思考其他解决思路。</p><h2 id="性能分析"><a class="anchor" href="#性能分析">#</a> 性能分析</h2><p>说了这么多，那么 JPS 到底有没有那么「快」呢？让我们来做一个性能测试康康 (ง・_・)ง</p><p>测试使用的是 20 X 20 的网格。<br>其中「总遍历节点」是「open_map」+「close_map」的节点数量</p><table><thead><tr><th style="text-align:center">A * 用时</th><th style="text-align:center">JPS</th><th style="text-align:center">JPS+</th><th style="text-align:center">A * 总遍历节点</th><th style="text-align:center">JPS</th><th style="text-align:center">JPS+</th><th style="text-align:center">A * 路线长度</th><th style="text-align:center">JPS</th><th style="text-align:center">JPS+</th><th style="text-align:center">障碍物占比</th></tr></thead><tbody><tr><td style="text-align:center">16.806s</td><td style="text-align:center">24.399s</td><td style="text-align:center">11.382s</td><td style="text-align:center">173</td><td style="text-align:center">155</td><td style="text-align:center">112</td><td style="text-align:center">35.213</td><td style="text-align:center">35.213</td><td style="text-align:center">35.213</td><td style="text-align:center">50% 占比（有路线）</td></tr><tr><td style="text-align:center">16.443s</td><td style="text-align:center">36.007s</td><td style="text-align:center">14.571s</td><td style="text-align:center">204</td><td style="text-align:center">226</td><td style="text-align:center">180</td><td style="text-align:center">30.627</td><td style="text-align:center">30.627</td><td style="text-align:center">30.384</td><td style="text-align:center">33% 占比（有路线）</td></tr><tr><td style="text-align:center">14.013s</td><td style="text-align:center">44.621s</td><td style="text-align:center">8.236s</td><td style="text-align:center">196</td><td style="text-align:center">254</td><td style="text-align:center">105</td><td style="text-align:center">28.627</td><td style="text-align:center">28.627</td><td style="text-align:center">28.627</td><td style="text-align:center">20% 占比（有路线）</td></tr><tr><td style="text-align:center">8.767s</td><td style="text-align:center">24.259s</td><td style="text-align:center">0.285s</td><td style="text-align:center">131</td><td style="text-align:center">3</td><td style="text-align:center">3</td><td style="text-align:center">26.870</td><td style="text-align:center">26.870</td><td style="text-align:center">26.870</td><td style="text-align:center">0% 占比（有路线）</td></tr><tr><td style="text-align:center">39.636s</td><td style="text-align:center">57.200s</td><td style="text-align:center">24.762s</td><td style="text-align:center">398</td><td style="text-align:center">297</td><td style="text-align:center">264</td><td style="text-align:center">无</td><td style="text-align:center">无</td><td style="text-align:center">无</td><td style="text-align:center">50% 占比（无路线）</td></tr></tbody></table><blockquote><p>总体来说 <code>JPS+ &gt; A* &gt; JPS</code></p></blockquote><h2 id="why"><a class="anchor" href="#why">#</a> Why?</h2><p>为什么 JPS 看起来更「慢」了？<br>这个问题确实引人深思，笔者自己给出的几个解释：</p><ul><li>由于测试代码是 python 实现的。对于 A* 算法进行优化的查询主要是解决大量节点加入和移除优先队列导致的性能问题。但是 python 本身的运行效果就不是很高，因此会出现其他地方成为性能热点，从而 JPS 的性能提升不太明显。</li><li>由于测试地图是全随机地形，所以障碍物的分布比较「均匀」且「零散」，这将导致「跳点」的数量暴增！！！，反而会降低搜索效率。</li><li>当然还有一种可能，就是笔者代码写的有问题 (#｀-_ゝ -)，其他小伙伴有兴趣可以试试。</li></ul><p>另外一个值得关注的地方就是在 「0% 占比（有路线）」情况下， JPS+ 的性能异常优越！，于是看了以下该情况下的寻路图：</p><blockquote><p>A*</p></blockquote><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210513213343.gif" alt="a_star_easy"></p><blockquote><p>JPS+</p></blockquote><p><img data-src="https://blog-1255596461.cos.ap-guangzhou.myqcloud.com/blog_pic/20210513213410.gif" alt="jps_easy"></p><p>这里顺带一提， <code>JPS</code> 和 <code>JPS+</code> 的寻路图是一样的，但是 JPS 耗时却用了 24s 多。<br>原因是 <code>JPS+</code> 的查询方式导致了每次到达终点都等同于遍历了一遍全图～</p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQSpfc2VhcmNoX2FsZ29yaXRobQ==">A* search algorithm - Wikipedia</span></p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81NDUxMDQ0NA==">路径规划之 A* 算法</span></p></li><li><p><span class="exturl" data-url="aHR0cDovL3VzZXJzLmNlY3MuYW51LmVkdS5hdS9+ZGhhcmFib3IvZGF0YS9wYXBlcnMvaGFyYWJvci1ncmFzdGllbi1hYWFpMTEucGRm">JPS 论文原文 (anu.edu.au)</span></p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vS2lsbGVyQWVyeS9wLzEyMjQyNDQ1Lmh0bWw=">JPS/JPS+ 寻路算法 - KillerAery - 博客园</span></p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ2RjdmF1bHQuY29tL3BsYXkvMTAyMjA5NC9KUFMtT3Zlci0xMDB4LUZhc3Rlci10aGFu">JPS-Over-100x-Faster-than</span></p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTYxL2FydGljbGUvZGV0YWlscy8xMDIwMTc1OTk=">跳点搜索算法 (JPS 算法) &amp;&amp; 效率优化 (摘录)</span></p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8yOTA5MjQyMTI=">最快速的寻路算法 Jump Point Search - 知乎</span></p></li><li><p>[<a target="_blank" rel="noopener" href="https://www.baidu.com/link?url=oKI3pjXXZ2LVp-7BzlD-hwDHvXMovodWdGTGd_8BTeb7I4qiJve5at_nylpUAe3b&amp;wd=&amp;eqid=b53322090006858400000006609e1dcf"><em>算法</em>] 小学堂:<em>JPS</em> 寻路<em>算法</em>浅析 - 知乎</a></p></li></ul><div class="tags"><a href="/tags/jps/" rel="tag"><i class="ic i-tag"></i> jps</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-12-29 09:36:04" itemprop="dateModified" datetime="2022-12-29T09:36:04+08:00">2022-12-29</time> </span><span id="algorithm/findpath/JPS算法分享/" class="item leancloud_visitors" data-flag-title="JPS算法分享" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 充电</button><p>请我[恰饭]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="鑫酱(●'◡'●) 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="鑫酱(●'◡'●) 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>鑫酱(●'◡'●) <i class="ic i-at"><em>@</em></i>鑫酱</li><li class="link"><strong>本文链接：</strong> <a href="https://hakuya.me/algorithm/findpath/JPS%E7%AE%97%E6%B3%95%E5%88%86%E4%BA%AB/" title="JPS算法分享">https://hakuya.me/algorithm/findpath/JPS算法分享/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/algorithm/findpath/A_star%E7%AE%97%E6%B3%95/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;wallpaper-1255596461.cos.ap-nanjing.myqcloud.com&#x2F;wallpaper (8).jpg" title="A_star算法"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 寻路</span><h3>A_star算法</h3></a></div><div class="item right"><a href="/learning/games/Game202/%E4%B8%80%E3%80%81Recap%20of%20CG%20Basics/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;wallpaper-1255596461.cos.ap-nanjing.myqcloud.com&#x2F;wallpaper (24).jpg" title="一、Recap of CG Basics"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> GAME202高质量实时渲染</span><h3>一、Recap of CG Basics</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#jps%E7%AE%97%E6%B3%95%E5%88%86%E4%BA%AB"><span class="toc-number">1.</span> <span class="toc-text">JPS 算法分享</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a%E7%AE%97%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">A * 算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E6%A0%B8%E5%BF%83"><span class="toc-number">1.2.1.</span> <span class="toc-text">算法核心</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">数据结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E8%BF%87%E7%A8%8B"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">算法过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7%E6%AF%94%E8%BE%83"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">优先级比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">其他前提条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.2.1.5.</span> <span class="toc-text">其他描述</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jps-%E7%AE%97%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">JPS 算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-number">1.3.2.</span> <span class="toc-text">引言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E7%BA%BF%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">直线查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%9C%E7%BA%BF%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">斜线查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E8%BF%AB%E9%82%BB%E5%B1%85"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">强迫邻居</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%B3%E7%82%B9"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">跳点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%97%B4%E6%8E%A5%E8%B7%B3%E7%82%B9"><span class="toc-number">1.3.2.4.1.</span> <span class="toc-text">间接跳点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E8%BF%87%E7%A8%8B-2"><span class="toc-number">1.3.3.</span> <span class="toc-text">算法过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">核心思想</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%90%91"><span class="toc-number">1.3.3.1.1.</span> <span class="toc-text">查询方向</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%A7%84%E5%88%99"><span class="toc-number">1.3.3.1.2.</span> <span class="toc-text">查询规则</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A2%B3%E7%90%86%E6%80%9D%E8%B7%AF"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">梳理思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jps%E5%AF%BB%E8%B7%AF%E5%9B%BE"><span class="toc-number">1.3.4.</span> <span class="toc-text">JPS 寻路图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jps%E7%AE%97%E6%B3%95"><span class="toc-number">1.4.</span> <span class="toc-text">JPS + 算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.4.1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3-2"><span class="toc-number">1.4.2.</span> <span class="toc-text">核心思想</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%B3%E7%82%B9%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">跳点预处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B4%E6%8E%A5%E8%B7%B3%E7%82%B9%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">间接跳点预处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E8%B7%9D%E7%A6%BB"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">标识距离</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E6%B5%81%E7%A8%8B"><span class="toc-number">1.4.3.</span> <span class="toc-text">算法流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jps-%E5%AF%BB%E8%B7%AF%E5%9B%BE"><span class="toc-number">1.4.4.</span> <span class="toc-text">JPS+ 寻路图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%B7%E7%82%B9%E5%92%8C%E7%BB%88%E7%82%B9"><span class="toc-number">1.4.5.</span> <span class="toc-text">起点和终点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">1.5.</span> <span class="toc-text">性能分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#why"><span class="toc-number">1.6.</span> <span class="toc-text">Why?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">1.7.</span> <span class="toc-text">参考资料</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/algorithm/findpath/A_star%E7%AE%97%E6%B3%95/" rel="bookmark" title="A_star算法">A_star算法</a></li><li class="active"><a href="/algorithm/findpath/JPS%E7%AE%97%E6%B3%95%E5%88%86%E4%BA%AB/" rel="bookmark" title="JPS算法分享">JPS算法分享</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="鑫酱(●'◡'●)" data-src="/images/avatar.jpg"><p class="name" itemprop="name">鑫酱(●'◡'●)</p><div class="description" itemprop="description">整天摸鱼，却妄想拯救世界的技术宅</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">98</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">24</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">51</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FsbGVuR1g=" title="https:&#x2F;&#x2F;github.com&#x2F;AllenGX"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTgwNTM4MjQy" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;80538242"><i class="ic i-cloud-music"></i></span> <span class="exturl item email" data-url="bWFpbHRvOjE0MTM5MDcxNTNAcXEuY29t" title="mailto:1413907153@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>好友</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>网址</a></li><li class="item"><a href="/travellings/" rel="section"><i class="ic i-paper-plane"></i>传送门</a></li><li class="item"><a href="/mikutap/" rel="section"><i class="ic i-star"></i>Mikutap</a></li><li class="item"><a href="/restart/" rel="section"><i class="ic i-sun"></i>RestartLife</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/algorithm/findpath/A_star%E7%AE%97%E6%B3%95/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/learning/games/Game202/%E4%B8%80%E3%80%81Recap%20of%20CG%20Basics/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/japanese/" title="分类于 日语">日语</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/japanese/primary/" title="分类于 日语初级">日语初级</a></div><span><a href="/learning/japanese/primary/%E5%8D%81%E4%B8%89%E3%80%81%E6%A1%8C%E5%AD%90%E4%B8%8A%E6%9C%89%E4%B8%89%E6%9C%AC%E4%B9%A6/" title="十三、桌子上有三本书">十三、桌子上有三本书</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/network/" title="分类于 计算机网络">计算机网络</a></div><span><a href="/learning/network/kcp%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/" title="kcp源码阅读">kcp源码阅读</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/" title="分类于 编程语言">编程语言</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/learning/programlanguage/cpp/%E4%B9%9D%E3%80%81%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/" title="九、内存模型和名称空间">九、内存模型和名称空间</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/tasklist/" title="分类于 任务清单">任务清单</a></div><span><a href="/tasklist/plan-table/" title="计划表">计划表</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/aoi/" title="分类于 aoi">aoi</a></div><span><a href="/learning/aoi/%E6%B5%85%E8%B0%88AOI/" title="浅谈AOI">浅谈AOI</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/" title="分类于 编程语言">编程语言</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/learning/programlanguage/cpp/%E5%8D%81%E4%BA%94%E3%80%81%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/" title="十五、友元、异常和其他">十五、友元、异常和其他</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/games/" title="分类于 Games系列">Games系列</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/games/Game101/" title="分类于 Games101图形渲染">Games101图形渲染</a></div><span><a href="/learning/games/Game101/%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81Animation%EF%BC%88%E4%B8%8B%EF%BC%89/" title="二十四、Animation（下）">二十四、Animation（下）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/algorithm/findpath/" title="分类于 寻路">寻路</a></div><span><a href="/algorithm/findpath/JPS%E7%AE%97%E6%B3%95%E5%88%86%E4%BA%AB/" title="JPS算法分享">JPS算法分享</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/" title="分类于 编程语言">编程语言</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/programlanguage/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/learning/programlanguage/cpp/%E5%8D%81%E5%85%AB%E3%80%81C++11%E6%96%B0%E5%8A%9F%E8%83%BD/" title="十八、C++11新功能">十八、C++11新功能</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/learning/" title="分类于 学习">学习</a> <i class="ic i-angle-right"></i> <a href="/categories/learning/physx/" title="分类于 物理引擎">物理引擎</a></div><span><a href="/learning/physx/PhysX%E2%80%94%E2%80%94Transform%E7%AF%87/" title="PhysX——Transform篇">PhysX——Transform篇</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">鑫酱(●'◡'●) @ 个人博客</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">520k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">7:52</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"algorithm/findpath/JPS算法分享/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/animejs@3.2.0/lib/anime.min.js,npm/katex@0.12.0/dist/contrib/copy-tex.min.js,npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/quicklink@2/dist/quicklink.umd.js,gh/amehime/MiniValine@4.2.2-beta10/dist/MiniValine.min.js"></script><script src="/js/app.js?v=0.2.5"></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b6d809b500bd6f0040117088899bc7bf";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>